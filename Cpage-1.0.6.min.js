!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);e.Component=r.Component;var o=n(12);e.Dom=o.default;var i=n(4),a=new i.default("user");e.Store=a;var u=n(16);e.Cookie=u.default,e.default=r.default,window.Cpage=new r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(36),o=new r.util;e.default=o},function(t,e){"use strict";function n(t){console.log(t)}function r(t){console.log(t)}function o(t){console.log(t)}function i(t){throw new Error(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.log=n,e.info=r,e.warn=o,e.error=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.elements=document.querySelectorAll(t),this.els=this._getEles(this.elements)}return t.prototype._getEles=function(t){if(t&&t.length)return t},t.prototype.each=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t}();e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n(33),i=new r.default,a=new o.default,u=function(){function t(t){void 0===t&&(t="Cpage"),this.app=i.module(t,[]),this.ins=function(){return a.inject([t])}}return t.prototype.data=function(t,e){this.app.data(t,e)},t.prototype.has=function(t){return this.ins().has(t)},t.prototype.get=function(t){return this.ins().get(t)},t.prototype.provider=function(t,e){this.app.provider(t,e)},t.prototype.factory=function(t,e){this.app.factory(t,e)},t.prototype.service=function(t,e){this.app.service(t,e)},t}();e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.eventList={}}return t.prototype.trigger=function(t,e){var n=Array.prototype.shift.call(arguments),r=this.eventList[n];if(!r||0===r.length)return!1;for(var o,i=0;o=r[i++];)o.apply(this,arguments)},t.prototype.listen=function(t,e){this.eventList[t]||(this.eventList[t]=[]),this.eventList[t].push(e)},t.prototype.remove=function(t,e){var n=this.eventList[t];if(!n)return!1;if(e)for(var r=n.length-1,o=n[r];r>=0;r--)o===e&&n.splice(r,1);else n&&(n.length=0)},t}(),r=new n;e.default=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dataType={1:"ASTBuilder.Init",2:"ASTBuilder.MetaData",3:"ASTBuilder.Array",4:"ASTBuilder.Object",5:"ASTBuilder.Identifier",6:"ASTBuilder.This",7:"ASTBuilder.Member",8:"ASTBuilder.Function",9:"ASTBuilder.Assignment",10:"ASTBuilder.Unary",11:"ASTBuilder.Binary",12:"ASTBuilder.Logical",13:"ASTBuilder.Teranry"},e.ast_init={type:e.dataType[1],body:{}},e.ast_constant={type:e.dataType[2],value:void 0},e.ast_array={type:e.dataType[3],value:void 0},e.ast_object={type:e.dataType[4],value:void 0},e.ast_json={type:e.dataType[5],key:void 0,value:void 0},e.ast_identifier={type:e.dataType[5],value:void 0},e.ast_this={type:e.dataType[6]},e.ast_member={type:e.dataType[7],object:void 0,property:void 0,computed:void 0},e.ast_function={type:e.dataType[8],callee:void 0,arguments:void 0,pipe:Boolean},e.ast_assignment={type:e.dataType[9],left:void 0,right:void 0},e.ast_unary={type:e.dataType[10],operator:"+",value:void 0},e.ast_binary={type:e.dataType[11],left:void 0,operator:void 0,right:void 0},e.ast_logical={type:e.dataType[12],left:void 0,operator:void 0,right:void 0},e.ast_teranry={type:e.dataType[13],boolean_expression:void 0,true_value:void 0,error_value:void 0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={"'":"'",'"':'"',"&":"&","\\":"\\",n:"\n",r:"\r",t:"\t",b:"\b",f:"\f"};e.SPECIALS=n;var r={null:null,true:!0,false:!1,undefined:void 0,this:void 0};e.LETTER=r;var o={"+":!0,"!":!0,"-":!0,"*":!0,"%":!0,"/":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"==":!0,"===":!0,"!=":!0,"!==":!0,"&&":!0,"||":!0,"|":!0};e.OPERATORS=o},function(t,e){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){Object.assign.apply(Object,[e.prototype].concat(t))}}function r(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})})}Object.defineProperty(e,"__esModule",{value:!0}),e.mixins=n,e.applyMixins=r},function(t,e,n){"use strict";function r(){return function(t,e){var n;switch(l.default.type(e)){case"function":n=e;break;case"string":case"number":case"boolean":case"null":case"undefined":case"object":n=o(e);break;default:return t}return t.filter(n)}}function o(t){return function(e){return a(e,t,i)}}function i(t,e){return"null"==l.default.type(t)||"null"==l.default.type(e)?t===e:"undefined"!=l.default.type(t)&&(t=(""+t).toLowerCase(),e=(""+e).toLowerCase(),t.includes(e))}function a(t,e,n){if("string"==l.default.type(e)&&e.startsWith("!"))return!a(t,e.substring(1),n);if("object"==l.default.type(t)){if("object"==l.default.type(e))for(var r in e)return a(t[r],e[r],n);var o=l.default.objVal(t);return o.some(function(t){return a(t,e,n)})}return n(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(29),s=n(30),c=n(31),p=new c.default,l=n(1),f=function(){function t(){this.pipes=p.pipes}return t.prototype.register=function(t,e){return p.register(t,e),this},t.prototype.pipe=function(t){return p.pipe(t)},t.prototype.parse=function(t){function e(t,e){switch(l.default.type(t)){case"string":var r=new u.default,o=new s.default(r,e),i=!1;":"==t.charAt(0)&&":"==t.charAt(1)&&(i=!0,t=t.substring(2));var a=o.parse(t);return a.constant&&(a.$$handelWatch=n.constantHandelWatch),i&&(a.$$handelWatch=a.literal?n.oneTimeLiteralHandelWatch:n.oneTimeHandelWatch),a.inputs&&(a.$$handelWatch=n.inputsHandelWatch),a;case"function":return t}}var n=this;return e(t,this.pipes)},t.prototype.constantHandelWatch=function(t,e,n,r){var o=t.$watch(function(){return r(t)},function(t,n,r){"function"==l.default.type(e)&&e.apply(this,arguments)},n);return o},t.prototype.oneTimeHandelWatch=function(t,e,n,r){var o,i=t.$watch(function(){return r(t)},function(t,n,r){o=t,"function"==l.default.type(e)&&e.apply(this,arguments),"undefined"!=l.default.type(t)&&r.$afterDigest(function(){"undefined"!=l.default.type(o)&&i()})},n);return i},t.prototype.oneTimeLiteralHandelWatch=function(t,e,n,r){var o,i=t.$watch(function(){return r(t)},function(t,n,r){o=t,"function"==l.default.type(e)&&e.apply(this,arguments),"undefined"!=l.default.type(t)&&r.$afterDigest(function(){"undefined"!=l.default.type(o)&&i()})},n);return i},t.prototype.inputsHandelWatch=function(t,e,n,r){r.inputs;return t.$watch(function(){},e,n)},t}(),d=new f;e.default=d;var h=new f;h.register("filter",r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o={},i=function(){function t(){this.modules={name:"",requires:[]}}return t.prototype.clear=function(){this.modules={}},t.prototype.module=function(t,e,n){var r={};return e?this.modules=this.$$set(t,e,r,n):this.modules=this.$$get(t,r),this.modules},t.prototype.$$set=function(t,e,n,i){"hasOwnProperty"==t&&r.error("hasOwnProperty不能用于键名");var a=[],u=[],s=function(t,e,n,r){return void 0===n&&(n="push"),void 0===r&&(r=a),function(){return r[n]([t,e,arguments]),c}},c={name:t,requires:e,data:s("$provider","data","unshift"),provider:s("$provider","provider"),factory:s("$provider","factory"),value:s("$provider","value"),service:s("$provider","service"),config:s("$injector","invoke","push",u),run:function(t){return c._runQueue.push(t),c},pipe:s("$pipeProvider","register"),_invokeQueue:a,_configQueue:u,_runQueue:[]};return i&&c.config(i),this.modules=o[t]=c,c},t.prototype.$$get=function(t,e){return o.hasOwnProperty(t)?o[t]:void r.error("名称为"+t+"的module不存在！")},t}();e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(1),a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.on=function(t,e){this.each(this.els,function(n,r){n.addEventListener(t,e,!1)})},e.prototype.off=function(t,e){this.each(this.els,function(n,r){n.removeEventListener(t,e,!1)})},e.prototype.hover=function(t,e){for(var n=0,r=this.els;n<r.length;n++){var o=r[n];if("function"!=i.default.type(t))throw new Error("hover方法：没有传递回调函数");o.addEventListener("mouseover",t,!1),"function"==i.default.type(e)&&o.addEventListener("mouseout",t,!1)}return this},e.prototype.click=function(t){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];"function"==i.default.type(t)&&r.addEventListener("click",t,!1)}return this},e.prototype.toggle=function(){for(var t=0,e=this.els;t<e.length;t++){var n=e[t];!function(t,e){var n=0;t.addEventListener("click",function(){e[n++%e.length].call(this)},!1)}(n,arguments)}return this},e.prototype.scroll=function(t){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];"function"==i.default.type(t)&&r.addEventListener("scroll",t,!1)}return this},e.prototype.resize=function(t){for(var e=0,n=this.els;e<n.length;e++){var r=n[e],o=r.offsetLeft,a=r.offsetWidth,u=r.offsetTop,s=r.offsetHeight;window.onresize=function(){t(),o>=i.default.page().width-a&&(o=i.default.page().width-a),u>=i.default.page().height-s&&(u=i.default.page().height-s)}}return this},e}(o.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(14),a=n(11),u=n(13),s=n(15),c=n(8),p=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e}(o.default);c.applyMixins(p,[i.default,a.default,u.default,s.default]);var l=function(t){var e=new p(t);return e};e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.show=function(t){if(t&&"number"==typeof t)for(var e=function(e){setTimeout(function(){e.style.display="none"},t||500)},n=0,r=this.els;n<r.length;n++){var o=r[n];e(o)}else if(!t)for(var i=0,a=this.els;i<a.length;i++){var o=a[i];o.style.display="block"}return this},e.prototype.hide=function(t){if(t&&"number"==typeof t)for(var e=function(e){setTimeout(function(){e.style.display="block"},t||500)},n=0,r=this.els;n<r.length;n++){var o=r[n];e(o)}else if(!t)for(var i=0,a=this.els;i<a.length;i++){var o=a[i];o.style.display="none"}return this},e}(o.default);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(1),a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.html=function(t){if(!t||"string"==i.default.type(t))return t?(this.each(this.els,function(e,n){e.innerHTML=t}),this):this.els[0].innerHTML},e.prototype.text=function(t){if(!t||"string"==i.default.type(t)){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];if(0==arguments.length)return r.innerText||r.textContent;1==arguments.length&&(r.innerText?r.innerText=t:r.textContent=t)}return this}},e.prototype.css=function(t,e){if(!(t&&"string"!=i.default.type(t)||e&&"string"!=i.default.type(e)))for(var n=0,r=this.els;n<r.length;n++){var o=r[n];if(1==arguments.length)return window.getComputedStyle(o,null)[t];if(2==arguments.length)return o.style[t]=e,this}},e.prototype.width=function(t){if(!t||"string"==i.default.type(t)){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];if(!t)return r.offsetWidth;r.style.width=t}return this}},e.prototype.height=function(t){if(!t||"string"==i.default.type(t)){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];if(!t)return r.offsetHeight;r.style.height=t}return this}},e.prototype.attr=function(t,e){if("string"==i.default.type(t)&&(!e||"string"==i.default.type(e)))for(var n=0,r=this.els;n<r.length;n++){var o=r[n];if(1==arguments.length){if(o.hasAttribute(t))return o.getAttribute(t)}else if(2==arguments.length)return o.setAttribute(t,e),this}},e.prototype.val=function(t){if(!t||"string"==i.default.type(t)){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];if(1==arguments.length){var o=r.getAttribute("value");r.setAttribute(o,t)}else if(0==arguments.length)return r.nodeName.match(/INPUT|TEXTAREA|SELECT|RADIO|CHECKBOX/)?r.value:r.getAttribute("value")}return this}},e.prototype.addClass=function(t){if(!t||"string"==i.default.type(t)){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];r.classList.add(t)}return this}},e.prototype.removeClass=function(t){if(!t||"string"==i.default.type(t)){for(var e=0,n=this.els;e<n.length;e++){var r=n[e];r.classList.remove(t)}return this}},e.prototype.toggleClass=function(t){if(!t||"string"==i.default.type(t))for(var e=0,n=this.els;e<n.length;e++){var r=n[e];return!!r.classList.toggle(t)}},e}(o.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(1),a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.hasAttrs=function(){for(var t=0,e=this.els;t<e.length;t++){var n=e[t];return!!n.hasAttributes()}},e.prototype.hasAttr=function(t){if(!t||"string"==i.default.type(t))for(var e=0,n=this.els;e<n.length;e++){var r=n[e];return!!r.hasAttribute(t)}},e.prototype.hasClass=function(t){if(!t||"string"==i.default.type(t))for(var e=0,n=this.els;e<n.length;e++){var r=n[e];return!!r.classList.contains(t)}},e}(o.default);e.default=a},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Cookie={support:function(){return!(!document.cookie&&!navigator.cookieEnabled)},set:function(t,e,n){var r=t+"="+encodeURIComponent(e);if(console.log(123),n&&void 0!=n.hours){var o=new Date;o.setHours(o.getHours()+n.hours),r+="; expires="+o.toUTCString()}r+=n&&n.path?"; path="+n.path:"",r+=n&&n.domain?"; domain="+n.domain:"",r+=n&&n.secure?"; secure="+n.secure:"",document.cookie=r},get:function(name){var len=arguments.length;if(0==len){var cs=document.cookie,arr=[],arr2=[],obj={};arr=cs.split(";");for(var i=0;i<arr.length;i++){var a=arr[i].split("="),a1=[a[0].trim(),decodeURIComponent(a[1])];arr2.push(a1)}return JSON.stringify(arr2)}if(1==len){var reg=eval("/(?:^|;\\s*)"+name+"=([^=]+)(?:;|$)/");return reg.test(document.cookie)?decodeURIComponent(RegExp.$1):""}},remove:function(t,e){if(0==arguments.length)for(var n=this.get(),r=0;r<n.length;r++)this.set(n[r][0],"",-1);this.set(t,e||"",{hours:-1})}};exports.default=Cookie},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(1),i=function(){function t(){this.data={},this.name="",this.token=void 0,this.props={},this.componentStatus=""}return t.prototype.$data=function(t,e){var n=arguments.length;switch(n){case 0:return this.data;case 1:return this.data[t];case 2:var i=o.default.deepClone(this.data);this.data[t]=e;var a=this.data;r.default.trigger(t,o.default.clone({target:this.token,which:this.name,old:i,new:a,oldVal:i[t],newVal:a[t],props:void 0==this.props?{}:this.props,componentStatus:this.componentStatus}))}},t}(),a=new i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(){function t(){}return t.prototype.trigger=function(t,e){r.default.trigger(t,e)},t.prototype.listen=function(t,e){r.default.listen(t,e)},t}(),i=new o;e.default=i},function(t,e,n){"use strict";function r(t){t.name&&(t.name&&"string"!=i.default.type(t.name)&&o.error("组件"+t.name+"的名称必须为字符串"),t.components&&"array"!=i.default.type(t.components)&&o.error("组件"+t.name+"的components属性应为数组！"),t.style&&"string"!=i.default.type(t.style)&&o.error("组件"+t.name+"的style属性应为字符！"),t.styleId&&("string"!=i.default.type(t.styleId)&&o.error("组件"+t.name+"的styleId属性应为字符！"),void 0==document.querySelector(t.styleId)&&o.error("节点"+t.styleId+"不存在")),t.template&&"string"!=i.default.type(t.template)&&o.error("组件"+t.name+"的template属性应为字符！"),t.templateId&&("string"!=i.default.type(t.templateId)&&o.error("组件"+t.name+"的templateId属性应为字符！"),void 0==document.querySelector(t.templateId)&&o.error("节点"+t.templateId+"不存在")),t.data&&"object"!=i.default.type(t.data)&&o.error("组件"+t.name+"的data属性应为对象！"),t.props&&("object"!=i.default.type(t.props)&&o.error("组件"+t.name+"的props属性应为对象！"),Object.entries(t.props).forEach(function(e){i.default.type(e[1].default)!=e[1].type&&o.error("组件"+t.name+"props属性中元素"+e[0]+"的default值非"+e[1].type+"类型！")})),t.beforeRender&&"function"!=i.default.type(t.beforeRender)&&o.error("组件"+t.name+"的beforeRender属性应为函数！"),t.render&&"function"!=i.default.type(t.render)&&o.error("组件"+t.name+"的render属性应为函数！"))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(1);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(22),a=n(19),u=n(4),s=new u.default;s.data("componentList",[]),s.service("component",function(){this.ensureOneInvokeComponent=function(t,e){for(var n={type:"yes"},r=[],o=[],i=0;i<e.length;i++)e[i].name==t&&r.push(t),o.push(e[i].name);return r.length>=2&&(n={type:"no",info:"只能有一个根组件，却发现"+r.length+"个"+t+"根组件"}),n}});var c=function(){function t(){this.CList=[],this.id=0,this.id=0}return t.bootstrap=function(t,e){function n(t,e){void 0===e&&(e=!1);var i=o.default.classToJson(t,e),u=i.componentJson;e&&(r=i.rootComponent),a.default(u),s.data("componentList",s.get("componentList").push(u)),u.components&&"array"==o.default.type(u.components)&&u.components.length&&u.components.forEach(function(t){n(t)})}var r={};n(e,!0);var u=new i.default(t,r,s.get("componentList"));u.componentToDom()},t.router=function(t){function e(t){"array"!=o.default.type(t)&&r.error("路由配置项需为数组形式")}e(t),t.forEach(function(t){var e=o.default.classToJson(t.component,!1);t.component=e.componentJson}),s.data("routerConfig",t)},t.prototype.directive=function(t,e){var n=e();n.id=this.id,this.CList.push(n),this.id++;var o=s.get("component").ensureOneInvokeComponent(t,this.CList);return"no"==o.type&&r.error(o.info),n},t.prototype.component=function(t){a.default(t);var e=o.default.deepClone(t);return Object.defineProperties(e,{isRoot:{value:!1,writable:!0},$el:{value:void 0,writable:!0},$props:{value:{},writable:!0}}),this.directive(t.name,function(){return e})},t.prototype.bootstrap=function(t,e){if("string"!=o.default.type(t)&&r.error(t+"应为字符串"),document.querySelector(t)||r.error("节点“"+t+"”不存在"),"object"!=o.default.type(e)&&r.error(e+"应为json对象"),2==arguments.length){a.default(e),e.name||r.error("找不到根组件的name属性"),s.data("rootComponent",e.name);var n=new i.default(t,e,this.CList);n.componentToDom()}},t.version="1.0.5",t}();e.default=c;var p=function(){function t(){this.components=[],this.name="",this.template="",this.data={},this.props={}}return t.prototype.render=function(){r.error("render方法必须被继承")},t}();e.Component=p},function(t,e,n){"use strict";function r(t,e,n){var r=new u(t,e,n);return r.tpl()}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(1),a=n(9),u=function(){function t(t,e,n){this.text=t,this.data=e,this.props=n}return t.prototype.combineData=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),"object"!=i.default.type(t)&&o.error("组件是属性data必须为对象"),"object"!=i.default.type(e)&&o.error("组件是属性props必须为对象"),i.default.isEmpty(e))return t;for(var n in e)t[n]=e[n].default;return t},t.prototype.tpl=function(){var t,e,n,r,o=this,u=0,s=[];if(void 0!=this.text){for(;u<this.text.length;){if(t=this.text.indexOf("{{",u),t!=-1&&(e=this.text.indexOf("}}",t+2)),t==-1||e==-1){s.push(this.text.substring(u));break}t!=u&&s.push(this.text.substring(u,t)),n=this.text.substring(t+2,e),r=a.default.parse(n),s.push(r),u=e+2}return s.reduce(function(t,e){return"function"==i.default.type(e)?t+o.expectNullUndefined(e(o.combineData(o.data,o.props))):t+e},"")}},t.prototype.expectNullUndefined=function(t){return"null"==i.default.type(t)||"undefined"==i.default.type(t)?"":"object"==typeof t?JSON.stringify(t):""+t},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(1),u=n(24),s=n(21),c=n(17),p=n(5),l=n(18),f=n(9),d=n(25),h=n(32),y=n(4),v=new y.default,m=/(x[\:\-_]|data[\:\-_])/i,g="c-data-id",b=function(){function t(t,e,n){this.selector=t,this.root=e,this.CList=n,this.CObj=this.listToObj(n),this.eventList=[],this.cRefList=[],this.showList=[],this.ifList=[],this.ifTpl={},this.cHtmlList=[],this.cForList=[],this.cRepeatList=[],this.cViewList=[],this.dataId=parseInt(a.default.now()),this.componentToken=[],this.componentNames=this.getComponentNameList(),this.componentAttrs={},this.templateId={},this.oneRootComponent=1,this.$router=void 0,this.$routerCache={}}return t.prototype.componentToDom=function(){function t(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),[4,n()];case 2:return t.sent(),[4,i()];case 3:return t.sent(),[2]}})})}function e(){p=l.loopNodes(l.root.name,u.default.create(d),f)}function n(){l.root.template=p[0].outerHTML,l.root.isRoot=!0,l.templateId[p[0].getAttribute(g)]=p[0].outerHTML,l.loopComponents(f,l.root.data,l.root.components,l.root.name)}function i(){function t(){setTimeout(function(){function t(t){var e=t.component.name,n=t.delay||0;setTimeout(function(){l.cViewList.forEach(function(n){u.default.q(n.ele)&&(t.cache&&l.$routerCache.hasOwnProperty(e)?(u.default.q(n.ele).innerHTML=l.$routerCache[e],l.handelEventListener(l.CObj[e],u.default.q(n.ele).firstChild)):(u.default.q(n.ele).innerHTML="",u.default.q(n.ele).insertAdjacentHTML("afterbegin","<"+a.default._cameCase(e)+"></"+a.default._cameCase(e)+">"),l.loopNodes(e,u.default.q(n.ele).childNodes,[]),l.loopComponents([l.CObj[e]],l.CObj[n.which].data||{},[],n.which),setTimeout(function(){l.$routerCache[e]=u.default.q(a.default._cameCase(e)).outerHTML},0)))})},n)}if("complete"==window.document.readyState){var e=window.location.hash;if(""==e){var n=c();"object"==a.default.type(n)&&t(n)}else{var r=s(e.substr(1));void 0!=r&&t(r)}}window.addEventListener("hashchange",function(e){var n="";e.newURL.includes("/#")&&(n=e.newURL.split("/#")[1]);var r=s(n);void 0!=r&&t(r)},!1)},0)}v.has("routerConfig")&&t()}function s(t){var e=new h.default(t,v.get("routerConfig"));return l.$router=e,e.nowRouter}function c(){var t=void 0;return v.get("routerConfig").forEach(function(e){"/"==e.path&&(t=e)}),t}var p,l=this,f=[],d=u.default.wrapDom(this.theTpl(this.root),a.default._cameCase(this.root.name).toLowerCase());t()},t.prototype.theTpl=function(t){return(t.template?t.template.trim():void 0)||u.default.hasHtml(t.templateId)||u.default.hasHtmlUrl(t.templateUrl)},t.prototype.theStyle=function(t){function e(t){return void 0!=t&&{type:"string",result:t}}function n(t){return void 0!=u.default.q(t)&&{type:"id",result:t}}function r(t){return void 0!=t&&("object"==a.default.type(t)&&(t=t[0][1]),"array"==a.default.type(t)&&(t=t[1]),{type:"url",result:t})}return e(t.style)||n(t.styleId)||r(t.styleUrl)},t.prototype.loopNodes=function(t,e,n){for(var r=this,o=0;o<e.length;o++)if(1==e[o].nodeType){e[o].setAttribute("c-data-id",this.dataId);var i=this.getComponent(e[o],t);i.forEach(function(t){n&&n.push(a.default.deepClone(a.default.extend(r.CObj[t],{token:r.dataId})))}),this.dataId++,this.addDirectiveList(t,e[o]),e[o].childNodes&&e[o].childNodes.length&&this.loopNodes(t,e[o].childNodes,n)}return e},t.prototype.addDirectiveList=function(t,e){for(var n=0,r=e.attributes;n<r.length;n++){var o=this.normalizeDirective(r[n].name);if(o.match(/^cClick|cDbclick|cMouseover|cMousedown|cMouseup|cMousemove|cMouseout|cMouseleave|cBlur|cFocus|cChange|cInput|cDrag|cDragend|cDragenter|cDragleave|cDragover|cDragstart|cDrop|cFocus|cKeydown|cKeypress|cKeyup|cScroll|cSelect|cSubmit|cTtoggle|cResize|cWaiting|cProgress|cLoadstart|cDurationchange|cLoadedmetadata|cLoadeddata|cCanplay|cCanplaythrough|cPlay|cPause|cRef|cShow|cIf|cHtml|cFor|cRepeat|cView$/g))switch(o){case"cRef":this.cRefList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)});break;case"cShow":this.showList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),directive:o});var i=u.default.boolToDisplay(s.default(r[n].value,this.CObj[t].data,this.CObj[t].props));e.style.display=i;break;case"cIf":this.ifList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),directive:o,html:e.outerHTML});var a=s.default(r[n].value,this.CObj[t].data,this.CObj[t].props);"true"==a&&(e.style.display="none");break;case"cHtml":this.cHtmlList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),directive:o,html:e.outerHTML});break;case"cFor":this.cForList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),html:e.innerHTML});break;case"cRepeat":this.cRepeatList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)});break;case"cView":this.cViewList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)});break;default:this.eventList.push({which:t,type:r[n].name.split("-")[1],fn:r[n].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)})}}},t.prototype.loopComponents=function(t,e,n,a){t.length&&void 0==n&&i.error("找不到组件为"+a+"的components属性");var u=this;t.forEach(function(t){function e(){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,u.handelDataChange(t)];case 1:return n.sent(),[4,u.handelBeforeRender(t)];case 2:return e=n.sent(),[4,u.handelAfterRender(e,t)];case 3:return n.sent(),[2]}})})}void 0!=t&&(u.compareChildComponentAndInjectComponents(t.name,n),t.$data=c.default.$data,t.$http=d.default,t.$event=l.default,t.$router=u.$router,e())})},t.prototype.handelBeforeRender=function(t){return t.beforeRender&&(t.$el=void 0,t.$refs=void 0,t.componentStatus="beforeRender",t.beforeRender()),"beforeRenderIsDone"},t.prototype.handelAfterRender=function(t,e){function n(){return r(this,void 0,void 0,function(){var t,e,n,r,i,u,s;return o(this,function(o){switch(o.label){case 0:return[4,a()];case 1:return t=o.sent(),[4,c(t)];case 2:return e=o.sent(),[4,p(e)];case 3:return n=o.sent(),[4,l(n)];case 4:return r=o.sent(),[4,f(r)];case 5:return i=o.sent(),[4,d(i)];case 6:return u=o.sent(),[4,h(u)];case 7:return s=o.sent(),[2]}})})}function a(){return u.default.addStyle(y.theStyle(e),e),"done"}function c(t){if("done"==t){var n;if(e.name==y.root.name){2==y.oneRootComponent&&i.error("根组件"+y.root.name+"只能有一个");var r=u.default.q(y.selector);void 0==r&&i.error("节点"+y.selector+"不存在"),r.innerHTML=s.default(y.theTpl(y.root),y.root.data,{}),n=u.default.q("["+g+'="'+e.token+'"]'),y.oneRootComponent++}else{var o=y.loopNodes(e.name,u.default.create(y.theTpl(y.CObj[e.name])));n=u.default.q("["+g+'="'+e.token+'"]'),y.templateId[e.token]=o[0].outerHTML;var a=u.default.combineAttrAndProps(y.componentAttrs[e.token],y.CObj[e.name].props);n.innerHTML=y.getChangedData(o[0].outerHTML,y.CObj[e.name].data,a)}return n}}function p(t){return y.loopCforToDom(y.cForList,e),t}function l(t){return y.loopIfToDom(y.ifList,e),y.loopHtmlToDom(y.cHtmlList,e),t}function f(t){e.$el=t,e.$refs={};var n=y.cRefList.filter(function(t){return t.which==e.name});return n.forEach(function(t){e.$refs[t.fn]=u.default.q(t.ele)}),e.componentStatus="afterRender",e.render(),t}function d(t){if(e.name!=y.root.name){var n=y.findComponent(t.firstChild);n.length&&e.name&&y.loopComponents(n,e.data,e.components,e.name)}return t}function h(t){y.handelEventListener(e,t)}if("beforeRenderIsDone"==t){var y=this;e.render&&n()}},t.prototype.compareChildComponentAndInjectComponents=function(t,e){var n=this,r=!1;r=!!(t=this.root.name)||!(!e.length&&t!=this.root.name)&&e.some(function(e){if(e.name)return t!=n.root.name&&t==e.name}),r||i.error("名称为"+t+"的组件未找到")},t.prototype.handelEventListener=function(t,e){var n=u.default.getAttr(g,e),r=this.array_intersection(n,this.eventList);if(r.length){var o=r.filter(function(e){return e.which==t.name});o.forEach(function(e){if(document.querySelectorAll(e.ele))try{for(var n=0,r=document.querySelectorAll(e.ele);n<r.length;n++){var o=r[n];o.addEventListener(e.type,function(n){try{e.fn.toString().match(/\(\)$/)?t.hasOwnProperty(e.fn.toString().split("()")[0])?f.default.parse(e.fn)(t,{$event:n}):i.error("组件"+t.name+"中不存在方法"+e.fn):i.error("组件"+t.name+"中方法"+e.fn+"语法错误")}catch(t){console.log(t)}},!1)}}catch(t){i.error(t)}else i.error("属性为"+e.ele+"的节点不存在！")})}},t.prototype.handelDataChange=function(t,e){var n=this,r=function(e){p.default.listen(e,function(r){if(r.target==t.token&&JSON.stringify(r.oldVal)!=JSON.stringify(r.newVal)){var o=u.default.create(n.templateId[t.token]),i=n.dataPosition(e,o,t.name);n.updateData(e,r),u.default.q(a.default._cameCase(t.name))&&n.dataChangeToDom(o,i,r,t.name)}})};for(var o in t.data)r(o)},t.prototype.updateData=function(t,e){
var n=e.which;this.CObj[n].data[t]=e.newVal},t.prototype.dataChangeToDom=function(t,e,n,r){this.loopTextToDom(t,e,n,r),this.loopAttrToDom(e,n,r)},t.prototype.loopTextToDom=function(t,e,n,r){var o=e.filter(function(t){return"text"==t.type});o.length&&o.forEach(function(e){var r=t[0].parentNode.querySelector(e.position).childNodes[e.item].textContent;document.querySelector(e.position).childNodes[e.item].textContent=s.default(r,n.new,n.props)})},t.prototype.loopAttrToDom=function(t,e,n){var r=this,o=this,i=t.filter(function(t){return"attr"==t.type});i.length&&i.forEach(function(i){function a(t){u.default.q(t.position).setAttribute(t.attr,e.newVal),o.componentAttrs[t.componentToken][t.attr]=e.newVal}function c(t){var e=o.dataPosition(t.attr,u.default.create(o.templateId[t.componentToken]),n),r=e.filter(function(t){return"text"==t.type});r.forEach(function(e){var n=o.CObj[t.componentName],r=n.props,i=n.data,a=t.attr,c=o.componentAttrs[t.componentToken][t.attr],p=o.combineChangedProps(a,c,r),l=u.default.create(o.templateId[t.componentToken]),f=l[0].parentNode.querySelector(e.position).childNodes[e.item].textContent;u.default.q(e.position).childNodes[e.item].textContent=s.default(f,i,p)});var i=e.filter(function(t){return"attr"==t.type});i.forEach(function(e){t.attr==e.value&&(e.value=t.value),u.default.q(e.position).setAttribute(e.attr,e.value),o.componentAttrs[e.componentToken][e.attr]=e.value,o.componentAttrs[e.componentToken][e.attr]=e.value,e.isComponent&&c(e)})}switch(i.attr){case"c-show":var p=u.default.boolToDisplay(f.default.parse(i.value)(e.new));u.default.q(i.position).style.display=p;break;case"c-if":var l=u.default.q(i.position);void 0!=l&&u.default.q(i.position).setAttribute(i.attr,e.newVal),r.handelIf(i,n);break;case"c-for":r.loopCforToDom(t,r.CObj[n],"dataChange");break;default:a(i)}i.isComponent&&c(i)})},t.prototype.loopCforToDom=function(t,e,n){var r=this,o=t.filter(function(t){return t.which==e.name}),c=this;o.forEach(function(t){var o=t.fn.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);o||i.error("c-for格式有误");var p=(o[1],o[2]),l=r.inComponent(p,e);l&&"array"==a.default.type(l)&&l.length?("dataChange"==n&&u.default.removeDomExpectWhich(0,'[c-for-id="'+u.default.q(t.ele).getAttribute("c-for-id")+'"]'),l.forEach(function(n,r){var i=u.default.q(t.ele).cloneNode(!0),p={};p[o[1]]=n,i.innerHTML=s.default(t.html,p,c.CObj[e.name].props||{});var l=c.loopNodes(e.name,u.default.create(i.outerHTML)),f=c.findComponent(l[0]);if(l[0].setAttribute("c-for-id",t.id),0==r)u.default.q(t.ele).innerHTML=l[0].innerHTML,u.default.q(t.ele).setAttribute("c-for-id",t.id);else{var d=document.querySelectorAll('[c-for-id="'+t.id+'"][c-for="'+t.fn+'"]');d[d.length-1].insertAdjacentElement("afterEnd",l[0])}f.length&&c.loopComponents(a.default.deepClone(f),p,[],e.name)})):i.error("组件"+e.name+"内c-for指令的格式不正确")})},t.prototype.loopIfToDom=function(t,e){var n=this,r=t.filter(function(t){return t.which==e.name});r.forEach(function(t){n.handelIf(t,e.name)})},t.prototype.handelIf=function(t,e){var n=u.default.q(t.ele||t.position);if(void 0!=n){var r=n.getAttribute("c-if");"true"==r&&(n.parentNode.replaceChild(u.default.addComment("c-if:"+t.id),n),this.ifTpl[t.id]=n.outerHTML)}void 0==n&&(u.default.replaceComment(u.default.q(a.default._cameCase(e)),t.attr+":"+t.id,u.default.create(this.ifTpl[t.id])[0]),u.default.attr(t.ele||t.position,"c-if",!1),u.default.q(t.ele||t.position).style.display="block")},t.prototype.loopHtmlToDom=function(t,e){var n=t.filter(function(t){return t.which==e.name});n.forEach(function(t){u.default.q(t.ele).innerHTML=u.default.attr(t.ele,"c-html")})},t.prototype.combineChangedProps=function(t,e,n){return n[t]&&(n[t].default=e),n},t.prototype.array_intersection=function(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r].id,i=0;i<t.length;i++)if(o===t[i]){n.push(e[r]);break}return n},t.prototype.isComponent=function(t){var e=u.default.parseName(t);return void 0!=this.CObj[e]},t.prototype.isComponentData=function(t,e){var n=new RegExp("{{\\s*([\\s\\S]*"+t+"[\\s\\S]*)\\s*}}","gm"),r=n.exec(e);if(null==r)return null;var o={"":!0,"+":!0,"-":!0,"*":!0,"/":!0,"(":!0,")":!0,".":!0,"[":!0,"]":!0,"!":!0,"!=":!0,"!==":!0,">":!0,">=":!0,">==":!0,"<":!0,"<=":!0,"<==":!0,"?":!0,":":!0},i=r[1].indexOf(t),a=r[1].charAt(i-1),u=r[1].charAt(i-2),s=r[1].charAt(i-3),c=r[1].charAt(i+1),p=r[1].charAt(i+2),l=r[1].charAt(i+3);return o[a]||o[u]||o[s]||o[c]||o[p]||o[l]?r[1]:null},t.prototype.dataPosition=function(t,e,n){function r(e){if("object"==typeof e&&e.length)for(var o=0;o<e.length;o++)if(1==e[o].nodeType&&e[o].hasAttributes()){for(var c=0,p=e[o].attributes;c<p.length;c++)if("c-for"==p[c].name){var l=p[c].value.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);l||i.error("组件"+n+"内的c-for指令表达式"+p[c]+"有误"),l[2]!=t||s.isComponent(e[o])||(a=a.concat({attr:p[c].name,fn:p[c].value,type:"attr",id:e[o].getAttribute(g),ele:"["+g+'="'+e[o].getAttribute(g)+'"]',item:o,isComponent:!1,html:e[o].innerHTML,which:n}))}else{var f=s.isComponentData(t,p[c].value);if(f){var d=s.isComponent(e[o]);a=d?a.concat({attr:p[c].name,value:t,type:"attr",id:e[o].getAttribute(g),position:"["+g+'="'+e[o].getAttribute(g)+'"]',item:o,isComponent:!0,componentName:u.default.parseName(e[o]),componentToken:e[o].getAttribute(g),which:n}):a.concat({attr:p[c].name,value:f,type:"attr",id:e[o].getAttribute(g),position:"["+g+'="'+e[o].getAttribute(g)+'"]',item:o,isComponent:!1,which:n})}}e[o].childNodes&&e[o].childNodes.length&&r(e[o].childNodes)}}function o(e){if("object"==typeof e&&e.length)for(var n=0;n<e.length;n++){if(3==e[n].nodeType){var r=e[n].textContent;s.isComponentData(t,r)&&(a=a.concat({value:t,type:"text",position:"["+g+'="'+e[n].parentNode.getAttribute(g)+'"]',item:n,isComponent:!1}))}e[n].childNodes&&e[n].childNodes.length&&o(e[n].childNodes)}}var a=[],s=this;return r(e),o(e),a},t.prototype.listToObj=function(t){var e={};return t.forEach(function(t){e[t.name]=t}),e},t.prototype.getComponentNameList=function(){var t=[];return this.CList.forEach(function(e){t.push(e.name)}),t},t.prototype.findComponent=function(t){function e(t){var o=r.normalizeDirective(u.default.getNodeName(t).toLowerCase());r.componentNames.includes(o)&&n.push(a.default.extend(r.CObj[o],{token:t.getAttribute(g)})),t.childNodes&&t.childNodes.length&&t.childNodes.forEach(function(t){3!=t.nodeType&&e(t)})}if(3!=t.nodeType){var n=[],r=this;return e(t),n}},t.prototype.getComponent=function(t,e){function n(t){var n=a.default.cameCase(u.default.getNodeName(t).toLowerCase());if(o.componentNames.includes(n)){r.push(n);for(var i={},c=0,p=t.attributes;c<p.length;c++)p[c].name!=g&&(i[p[c].name]=s.default(p[c].value,o.CObj[e].data,o.CObj[e].props));u.default.noOtherAttr(g,t)||(i.component=n,o.componentAttrs[t.getAttribute(g)]=i)}}var r=[],o=this;return n(t),r},t.prototype.directiveIsMulit=function(t){for(var e=0,n=this.CList;e<n.length;e++)if(n[e].name==t&&1==n[e].mulit)return!0;return!1},t.prototype.componentLayer=function(t,e){var n=e.layer-t.layer;return 0==n?t.name!=e.name?t.name<e.name?-1:1:t.cid-e.cid:n},t.prototype.getChangedData=function(t,e,n){return s.default(t,e,n)},t.prototype.normalizeDirective=function(t){return a.default.cameCase(t.replace(m,""))},t.prototype.inComponent=function(t,e){return e.data[t]||e.props.default[t]},t}();e.default=b},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["constructor","__proto__","__defineGetter__","__defineSetter__","__lookupGetter__","__loopupSetter__"];e.PROPERTY=n;var r=["document","alert","location","setInterval"];e.WINDOW=r;var o=["nodeName","children"];e.NODE=o;var i=[Function.prototype.call,Function.prototype.apply,Function.prototype.bind];e.FUN=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),i=function(){function t(){this.BOOLEAN_ATTRS={selected:!0},this.BOOLEAN_ELEMENT={}}return t.prototype.q=function(t){return document.querySelector(t)},t.prototype.createDom=function(t){"string"!=r.default.type(t)&&o.error("组件模板"+t+"必须为字符串，请检查组件的template,templateId,templateUrl属性");var e=""+t;e=e.trim(),e=e.replace(/<!--[\s\S]*?-->/gm,""),e=e.replace(/>\s+([^\s<]*)\s+</gm,">$1<").trim();for(var n,i=/([^>]*)(<([a-z\/][-a-z0-9_:.]*)[^>\/]*(\/*)>)([^<]*)/gm,a=(Date.now(),[]);n=i.exec(e);){var u=(n[1],n[2],n[3]);n[4],n[5];a.push(u)}var s=document.createElement(a[0]);return s.innerHTML=t,s},t.prototype.create=function(t){var e=this.createDom(t);return e.childNodes},t.prototype.getNodeName=function(t){return t.nodeName?t.nodeName:t[0].nodeName},t.prototype.parseName=function(t){return r.default.cameCase(t.tagName.toLowerCase())},t.prototype.wrapDom=function(t,e){return"<"+e+">"+t+"</"+e+">"},t.prototype.getAttr=function(t,e){function n(e){for(var o=0;o<e.length;o++)1==e[o].nodeType&&e[o].getAttribute(t)&&r.push(e[o].getAttribute(t)),e[o].childNodes&&e[o].childNodes.length&&n(e[o].childNodes)}var r=[];return 1==e.nodeType&&e.getAttribute(t)&&r.push(e.getAttribute(t)),e.childNodes&&e.childNodes.length&&n(e.childNodes),r},t.prototype.combineAttrAndProps=function(t,e){if(r.default.isEmpty(t))return e;if(t){var n=r.default.expectSome(t,"component");for(var o in n)e&&e[o]&&(e[o].default=n[o])}return e},t.prototype.noOtherAttr=function(t,e){if(1==e.nodeType&&e.attributes){if(e.attributes.length>=2)return!1;if(1==e.attributes.length)return e.attributes[0].name==t}},t.prototype.boolToDisplay=function(t){return"true"==t||1==t?"block":"false"==t||0==t?"none":void 0},t.prototype.expectSomeAttr=function(t,e){var n={};if(t.attributes&&t.attributes.length)for(var r=0,o=t.attributes;r<o.length;r++)o[r].name!=e&&(n[o[r].name]=o[r].value);return n},t.prototype.addComment=function(t){var e=document.createComment(t);return e},t.prototype.replaceComment=function(t,e,n){for(var r=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,null,!1),o=r.nextNode();o;)o.nodeValue==e&&o.parentNode.replaceChild(n,o),o=r.nextNode()},t.prototype.attr=function(t,e,n){var r=this.q(t);if(void 0!=r&&(3==arguments.length&&r.setAttribute(e,n),2==arguments.length))return r.getAttribute(e)},t.prototype.hasHtml=function(t){if(a.q(t))return a.q(t).innerHTML},t.prototype.hasHtmlUrl=function(t){return t},t.prototype.addStyle=function(t,e){if(void 0==e.name&&o.error("找不到组件的name属性，无法添加style样式"),void 0!=t){var n=r.default._cameCase(e.name);switch(t.type){case"string":this.appendStyle(t.result,n);break;case"id":void 0==this.q(t.result)&&o.error("名称为"+e.name+"组件中，节点"+t.result+"不存在");var i=this.q(t.result).innerHTML;this.appendStyle(i,n);break;case"url":this.appendStyle(t.result,n)}}},t.prototype.appendStyle=function(t,e){var n=""+t;n=r.default.trimStr(n);var o=document.createElement("style");o.type="text/css",o.title=e,o.innerHTML=n,this.q("head").appendChild(o),this.addSelectorPrefix(e)},t.prototype.addSelectorPrefix=function(t){for(var e=document.styleSheets,n=0;n<e.length;n++)if(e[n].title==t)for(var r=0,o=e[n].cssRules;r<o.length;r++)o[r].selectorText=t+" "+o[r].selectorText},t.prototype.removeDomExpectWhich=function(t,e){for(var n=document.querySelectorAll(e),r=0;r<n.length;r++)r!=t&&n[r].parentNode.removeChild(n[r])},t.prototype.watch=function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=document.querySelector(t),r=new e(function(t){}),o={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};r.observe(n,o)},t.prototype.booleanAttr=function(t,e){},t}(),a=new i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),o=function(){function t(){}return t.prototype.ajax=function(t){var e=t.type,n=void 0===e?"get":e,o=t.url,i=void 0===o?"":o,a=t.data;return r.parseHttp(n,i,a)},t.prototype.get=function(t){return r.parseHttp("get",t,null)},t.prototype.post=function(t,e){return r.parseHttp("post",t,e)},t.prototype.put=function(t,e){return r.parseHttp("put",t,e)},t.prototype.delete=function(t,e){return r.parseHttp("delete",t,e)},t}(),i=new o;e.default=i},function(t,e,n){"use strict";function r(t,e,n){"string"==o.default.type(t)||a.includes(t.toLowerCase())||i.error("http请求类型必须为"+a+"中的一个"),"string"!=o.default.type(e)&&i.error("http请求的url参数需为字符"),n&&"object"!=o.default.type(n)&&i.error("http请求的data参数需为对象");var r=new Promise(function(r,o){function i(){4==this.readyState&&(200==this.status?r(this.response):o(new Error(this.statusText)))}var a=new XMLHttpRequest;a.open(t,e),a.onreadystatechange=i,a.responseType="json",a.setRequestHeader("Accept","application/json"),a.send(n||null)});return r}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(2),a=["get","post","put","delete","head","options"];e.parseHttp=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(7),i=n(1),a=function(){function t(t){this.lexer=t,this.tokens=[]}return t.prototype.ast=function(t){return this.tokens=this.lexer.lex(t),this.init()},t.prototype.init=function(){for(var t=[];;)if(this.tokens.length&&t.push(this.pipeBuilder()),!i.default.expect(this.tokens,";"))return r.ast_init.body={},r.ast_init.body=t,i.default.clone(r.ast_init)},t.prototype.agency=function(){var t;i.default.expect(this.tokens,"(")?(t=this.pipeBuilder(),i.default.consume(this.tokens,")")):i.default.expect(this.tokens,"[")?t=this.arrayBuilder():i.default.expect(this.tokens,"{")?t=this.objectBuilder():o.LETTER.hasOwnProperty(this.tokens[0].text)?"this"==this.tokens[0].text?t=i.default.clone(r.ast_this):(r.ast_constant.value=o.LETTER[i.default.consume(this.tokens).text],t=i.default.clone(r.ast_constant)):t=i.default.exitFirst(this.tokens).identifier?this.identifierBuilder():this.constantBuilder();for(var e;e=i.default.expect(this.tokens,".","[","(");)t=this.memberBuilder(e,t);return t},t.prototype.closingTags=function(t){var e=[],n=this;if(!i.default.exitFirst(this.tokens,t))do{if(i.default.exitFirst(this.tokens,t))break;e.push(n.agency())}while(i.default.expect(this.tokens,","));return i.default.consume(this.tokens,t),e},t.prototype.constantBuilder=function(){return r.ast_constant.value=i.default.consume(this.tokens).value,i.default.clone(r.ast_constant)},t.prototype.identifierBuilder=function(){return r.ast_identifier.value=i.default.consume(this.tokens).value,i.default.clone(r.ast_identifier)},t.prototype.arrayBuilder=function(){return r.ast_array.value=this.closingTags("]"),i.default.clone(r.ast_array)},t.prototype.objectBuilder=function(){var t=[];if(!i.default.exitFirst(this.tokens,"}"))do r.ast_json.key=this.constantBuilder(),i.default.consume(this.tokens,":"),r.ast_json.value=this.assignmentBuilder(),t.push(i.default.clone(r.ast_json));while(i.default.expect(this.tokens,","));return i.default.consume(this.tokens,"}"),r.ast_object.value=t,i.default.clone(r.ast_object)},t.prototype.memberBuilder=function(t,e){return"["===t.text&&(e={type:r.dataType[7],object:e,property:this.agency(),computed:!0},i.default.consume(this.tokens,"]")),"."===t.text&&(e={type:r.dataType[7],object:e,property:this.identifierBuilder(),computed:!1}),"("===t.text&&(e={type:r.ast_function.type,callee:e,arguments:this.closingTags(")"),pipe:!1}),e},t.prototype.assignmentBuilder=function(){var t=this.ternaryBuilder();if(i.default.expect(this.tokens,"=")){var e=this.ternaryBuilder();return r.ast_assignment.left=t,r.ast_assignment.right=e,i.default.clone(r.ast_assignment)}return t},t.prototype.unaryBuilder=function(){var t=i.default.expect(this.tokens,"+","!","-");return t?(r.ast_unary.operator=t.text,r.ast_unary.value=this.unaryBuilder(),i.default.clone(r.ast_unary)):t?void 0:this.agency()},t.prototype.multiplicativeBuilder=function(){for(var t,e=this.unaryBuilder();t=i.default.expect(this.tokens,"*","%","/");)r.ast_binary.operator=t.text,r.ast_binary.left=e,r.ast_binary.right=this.unaryBuilder(),e=i.default.clone(r.ast_binary);return e},t.prototype.additiveBuilder=function(){for(var t,e=this.multiplicativeBuilder();t=i.default.expect(this.tokens,"+","-");)e={type:r.ast_binary.type,operator:t.text,left:e,right:this.multiplicativeBuilder()};return e},t.prototype.relationalBuilder=function(){for(var t,e=this.additiveBuilder();t=i.default.expect(this.tokens,">","<",">=","<=");)e={type:r.ast_binary.type,operator:t.text,left:e,right:this.additiveBuilder()};return e},t.prototype.equalityBuilder=function(){for(var t,e=this.relationalBuilder();t=i.default.expect(this.tokens,"==","===","!=","!==");)e={type:r.ast_binary.type,operator:t.text,left:e,right:this.relationalBuilder()};return e},t.prototype.andBuilder=function(){for(var t,e=this.equalityBuilder();t=i.default.expect(this.tokens,"&&");)e={type:r.ast_logical.type,operator:t.text,left:e,right:this.equalityBuilder()};return e},t.prototype.orBuilder=function(){for(var t,e=this.andBuilder();t=i.default.expect(this.tokens,"||");)e={type:r.ast_logical.type,operator:t.text,left:e,right:this.andBuilder()};return e},t.prototype.ternaryBuilder=function(){var t=this.orBuilder();if(i.default.expect(this.tokens,"?")){var e=this.assignmentBuilder();if(i.default.consume(this.tokens,":")){var n=this.assignmentBuilder();return{type:r.ast_teranry.type,boolean_expression:t,true_value:e,error_value:n}}}return t},t.prototype.pipeBuilder=function(){for(var t=this.assignmentBuilder();i.default.expect(this.tokens,"|");){var e=[t];for(t={type:r.ast_function.type,callee:this.identifierBuilder(),arguments:e,pipe:!0};i.default.expect(this.tokens,":");)e.push(this.assignmentBuilder())}return t},t}();e.default=a},function(t,e,n){"use strict";function r(t){var e=p.PROPERTY.some(function(e){return e===t});e&&c.error(t+"存在编译风险")}function o(t){if(void 0!=t){var e=p.WINDOW.every(function(e){return t[e]}),n=p.NODE.every(function(e){return t[e]});return(e||n||t.constructor==t||t.getOwnPropertyDescriptor||t.getOwnPropertyNames)&&c.error(t+"存在编译风险"),t}}function i(t){var e=p.FUN.some(function(e){return e==t});(e||t.constructor==t)&&c.error(t+"存在编译风险")}function a(t,e){return void 0===e&&(e=0),"undefined"==typeof t?e:t}function u(t){return f[t]}Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),c=n(2),p=n(23),l=n(1),f={},d=function(){function t(t,e){this.astBuilder=t,this.state={body:[],compileId:0,echo:[],pipes:{}},this.ast={},f=e}return t.prototype.compile=function(t){this.ast=this.astBuilder.ast(t),this.handelTree(this.ast),this.constantExpr(this.ast);var e=this.pipePrefix()+"var fn = function(scope, local){"+(this.state.echo.length?"var "+this.state.echo.join(",")+";":"")+this.state.body.join("")+"}; return fn;",n=new Function("safeProperty","safeObject","safeFunction","isUndefined","pipe",e)(r,o,i,a,u);return n.literal=this.isLiteral(),n.constant=this.ast.constant,n},t.prototype.handelTree=function(t,e,n){switch(void 0===e&&(e={context:void 0,name:void 0,computed:void 0}),t.type){case s.dataType[1]:this.initCompile(t);break;case s.dataType[2]:return this.metaCompile(t);case s.dataType[3]:return this.arrayCompile(t);case s.dataType[4]:return this.objectCompile(t);case s.dataType[5]:return this.identifierCompile(t,e,n);case s.dataType[6]:return this.thisCompile();case s.dataType[7]:return this.memberCompile(t,e,n);case s.dataType[8]:return this.functionCompile(t);case s.dataType[9]:return this.assigmentCompile(t);case s.dataType[10]:return this.unaryCompile(t);case s.dataType[11]:return this.binaryCompile(t);case s.dataType[12]:return this.logicalCompile(t);case s.dataType[13]:return this.ternaryCompile(t)}},t.prototype.initCompile=function(t){var e=this,n=l.default.clone(t.body),r=n.pop();n.forEach(function(t){e.state.body.push(e.handelTree(t))}),this.state.body.push("return ",this.handelTree(r),";")},t.prototype.metaCompile=function(t){return l.default.wrapString(t.value)},t.prototype.arrayCompile=function(t){var e=this,n=t.value.map(function(t){return e.handelTree(t)});return"["+n.join(",")+"]"},t.prototype.objectCompile=function(t){var e=this,n=t.value.map(function(t){var n=t.key.value,r=e.handelTree(t.value);return n+":"+r});return"{"+n.join(",")+"}"},t.prototype.identifierCompile=function(t,e,n){r(t.value);var o=this.incrementId();return l.default.conditionIsRight(this.state.body,l.default.hasProperty("local",t.value),l.default.concatCode(o,l.default.nonComputedMember("local",t.value))),n&&l.default.conditionIsRight(this.state.body,l.default.notExist(l.default.hasProperty("local",t.value))+" && scope && "+l.default.notExist(l.default.hasProperty("scope",t.value)),l.default.concatCode(l.default.nonComputedMember("scope",t.value),"{}")),l.default.conditionIsRight(this.state.body,l.default.notExist(l.default.hasProperty("local",t.value))+" && scope",l.default.concatCode(o,l.default.nonComputedMember("scope",t.value))),e&&(e.context=l.default.hasProperty("local",t.value)+"?local:scope",e.name=t.value,e.computed=!1),this.state.body.push("safeObject("+o+");"),o},t.prototype.thisCompile=function(){return"scope"},t.prototype.memberCompile=function(t,e,n){var o=this.incrementId(),i=this.handelTree(t.object,void 0,!0);if(e&&(e.context=i),t.computed){var a=this.handelTree(t.property);this.state.body.push("safeProperty("+a+");"),n&&l.default.conditionIsRight(this.state.body,l.default.notExist(l.default.computedMember(i,a)),l.default.concatCode(l.default.computedMember(i,a),"{}")),l.default.conditionIsRight(this.state.body,i,l.default.concatCode(o,"safeObject("+l.default.computedMember(i,a)+")")),e&&(e.name=a,e.computed=!0)}return t.computed||(r(t.property.value),n&&l.default.conditionIsRight(this.state.body,l.default.notExist(l.default.nonComputedMember(i,t.property.value)),l.default.concatCode(l.default.nonComputedMember(i,t.property.value),"{}")),l.default.conditionIsRight(this.state.body,i,l.default.concatCode(o,"safeObject("+l.default.nonComputedMember(i,t.property.value)+")")),e&&(e.name=t.property.value,e.computed=!1)),o},t.prototype.functionCompile=function(t){var e,n,r,o=this;return t.pipe?(n=this.pipeCompile(t.callee.value),r=t.arguments.map(function(t){return o.handelTree(t)}),n+"("+r.join(",")+")"):t.pipe?void 0:(e={context:void 0,name:void 0,computed:void 0},n=this.handelTree(t.callee,e),r=t.arguments.map(function(t){return"safeObject("+o.handelTree(t)+")"}),e.name&&(this.state.body.push("safeObject("+e.context+");"),n=e.computed?l.default.computedMember(e.context,e.name):l.default.nonComputedMember(e.context,e.name)),this.state.body.push("safeFunction("+n+");"),n+" && safeObject("+n+"("+r.join(",")+"))")},t.prototype.assigmentCompile=function(t){var e,n={context:void 0,name:void 0,computed:void 0};return this.handelTree(t.left,n,!0),e=n.computed?l.default.computedMember(n.context,n.name):l.default.nonComputedMember(n.context,n.name),l.default.concatCode(e,"safeObject("+this.handelTree(t.right)+")")},t.prototype.unaryCompile=function(t){return t.operator+"(isUndefined("+this.handelTree(t.value)+"))"},t.prototype.binaryCompile=function(t){return l.default.inStr(t.operator,"+-")?"(isUndefined("+this.handelTree(t.left)+")"+t.operator+"isUndefined("+this.handelTree(t.right)+"))":"("+this.handelTree(t.left)+t.operator+this.handelTree(t.right)+")"},t.prototype.logicalCompile=function(t){var e=this.incrementId();return this.state.body.push(l.default.concatCode(e,this.handelTree(t.left))),l.default.conditionIsRight(this.state.body,"&&"==t.operator?e:l.default.notExist(e),l.default.concatCode(e,this.handelTree(t.right))),e},t.prototype.ternaryCompile=function(t){var e=this.incrementId(),n=this.incrementId();return this.state.body.push(l.default.concatCode(n,this.handelTree(t.boolean_expression))),l.default.conditionIsRight(this.state.body,n,l.default.concatCode(e,this.handelTree(t.true_value))),l.default.conditionIsRight(this.state.body,l.default.notExist(n),l.default.concatCode(e,this.handelTree(t.error_value))),e},t.prototype.pipeCompile=function(t){var e=this.state.pipes;return e.hasOwnProperty("name")||(e[t]=this.incrementId(!0)),e[t]},t.prototype.pipePrefix=function(){var t=this.state.pipes;if("{}"==JSON.stringify(t))return"";var e=[];for(var n in t)e.push(t[n]+"=pipe("+l.default.wrapString(n)+")");return"var "+e.join(",")+";"},t.prototype.incrementId=function(t){var e=l.default.compileId(this.state.compileId,this.state.echo,t);return this.state.compileId++,e},t.prototype.isLiteral=function(){var t=this.ast.body;return!t.length||1===t.length&&(t[0].type===s.dataType[2]||t[0].type===s.dataType[3]||t[0].type===s.dataType[4]||t[0].type===s.dataType[5])},t.prototype.constantExpr=function(t){function e(e){e.forEach(function(t){i.constantExpr(t),r=r&&t.constant}),t.constant=r}function n(){i.constantExpr(t.left),i.constantExpr(t.right),t.constant=t.left.constant&&t.right.constant}var r,o=this,i=this;switch(t.type){case s.dataType[1]:r=!0,e(t.body);break;case s.dataType[2]:t.constant=!0;break;case s.dataType[3]:r=!0,e(t.value),t.constant=r;break;case s.dataType[4]:r=!0,t.value.forEach(function(t){o.constantExpr(t.value),r=r&&t.value.constant}),t.constant=r;break;case s.dataType[5]:case s.dataType[6]:t.constant=!1;break;case s.dataType[7]:this.constantExpr(t.object),t.computed&&this.constantExpr(t.property),t.constant=t.object.constant&&(!t.computed||t.property.constant);break;case s.dataType[8]:r=t.pipe,e(t.arguments),t.constant=r;break;case s.dataType[9]:n();break;case s.dataType[10]:this.constantExpr(t.value),t.constant=t.value.constant;break;case s.dataType[11]:case s.dataType[12]:n();break;case s.dataType[13]:this.constantExpr(t.boolean_expression),this.constantExpr(t.true_value),this.constantExpr(t.error_value),t.constant=t.boolean_expression.constant&&t.true_value.constant&&t.error_value.constant}},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(7),a=function(){function t(){this.index=0,this.now=void 0,this.tokens=[],this.text=""}return t.prototype.lex=function(t){for(this.text=t;this.index<this.text.length;)this.now=this.text.charAt(this.index),"number"==o.default.whichType(this.now)||"."===this.now&&o.default.whichType(o.default.nextLeter(this.index,this.text))?this.loopNumber():"string"==o.default.whichType(this.now)?this.loopString(this.now):"letter"==o.default.whichType(this.now)?this.loopLetter():o.default.isWhiteSpace(this.now)?this.index++:o.default.inStr(this.now,"[],{}.:()?;")?this.pushObj():this.loopOperator();return this.tokens},t.prototype.pushObj=function(){this.tokens.push({text:this.now,value:this.now}),this.index++},t.prototype.nextStr=function(t){return void 0===t&&(t=1),this.index+t<this.text.length&&this.text.charAt(this.index+t)},t.prototype.loopNumber=function(){for(var t="";this.index<this.text.length;){var e=this.text.charAt(this.index).toLowerCase();if("number"==o.default.whichType(e)||"."===e)t+=e;else{var n=o.default.nextLeter(this.index,this.text),i=t.charAt(t.length-1);if("e"==e&&o.default.isExponent(n))t+=e;else if(o.default.isExponent(e)&&"e"===i&&n&&o.default.isNumber(n))t+=e;else{if(!o.default.isExponent(e)||"e"!==i||n&&o.default.isNumber(n))break;r.error("指数格式错误！")}}this.index++}this.tokens.push({text:t,value:Number(t)})},t.prototype.loopString=function(t){this.index++;for(var e="",n=t;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,o==t)return this.index++,void this.tokens.push({text:n,value:e});e+=o==i.SPECIALS[o]?i.SPECIALS[o]:o,this.index++}r.error("无法匹配的符号")},t.prototype.loopLetter=function(){for(var t="";this.index<this.text.length;){var e=this.text.charAt(this.index);if(!o.default.isLetter(e)&&!o.default.isNumber(e))break;t+=e,this.index++}var n=i.LETTER.hasOwnProperty(t)?i.LETTER[t]:t;this.tokens.push({text:t,identifier:!0,value:n})},t.prototype.loopOperator=function(){var t=this.now,e=this.now+this.nextStr(1),n=this.now+this.nextStr(1)+this.nextStr(2),o=i.OPERATORS[t],a=i.OPERATORS[e],u=i.OPERATORS[n];if(o||a||u){var s=u?n:a?e:t;this.tokens.push({text:s,value:s}),this.index+=s.length}else r.error("未识别的字符"+this.now)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),o=n(28),i=function(){function t(t,e){this.lexer=t,this.astBuilder=new r.default(this.lexer),this.astCompile=new o.default(this.astBuilder,e)}return t.prototype.parse=function(t){return this.astCompile.compile(t)},t}();e.default=i},function(t,e,n){"use strict";function r(t){this.register=function(e,n){if("object"==i.default.type(e))for(var r in e)return this.register(r,e[r]);if("string"==i.default.type(e))return"function"!=i.default.type(n)&&o.error("注册的管道函数类型为function"),t.factory(e+"Pipe",n)},this.$get=["$injector",function(t){return function(e){return t.get(e+"Pipe")}}]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(1),a=function(){function t(){this.pipes={}}return t.prototype.register=function(t,e){if("object"==i.default.type(t))for(var n in t)return this.register(n,t[n]);if("string"==i.default.type(t)){"function"!=i.default.type(e)&&o.error("注册的管道函数类型为function");var r=e();return this.pipes[t]=r,r}},t.prototype.pipe=function(t){return this.pipes[t]},t.prototype.returnPipes=function(){return this.pipes},t}();e.default=a,e.$pipeProvider=r,r.$inject=["$provider"]},function(t,e,n){"use strict";function r(t,e){i.get("routerConfig").forEach(function(n){n.path==t&&(n.params=e)}),i.data("routerConfig",i.get("routerConfig"))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=new o.default,a=function(){function t(t,e){this.url=t,this.routers=this._parseRouters(e),this.nowRouter=this._getNowRouter(t,this.routers),this.params=this.nowRouter&&this.nowRouter.params?this.nowRouter.params:{}}return t.prototype._getNowRouter=function(t,e){return t.includes("?")&&(t=t.substr(0,t.lastIndexOf("?"))),e.filter(function(e){return t.match(e.info.regexp)})[0]},t.prototype._parseRouters=function(t){var e=this;return t.forEach(function(t){var n=e._pathToReg(t.path);null!=n&&(t.info=n,e.params=t.params||{})}),t},t.prototype._pathToReg=function(t){var e={originalPath:t,regexp:t},n=e.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(t,e,r,o){var i="?"===o||"*?"===o?"?":null,a="*"===o||"*?"===o?"*":null;return n.push({name:r,optional:!!i}),e=e||"",""+(i?"":e)+"(?:"+(i?e:"")+(a&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$*])/g,"\\$1"),e.regexp=new RegExp("^"+t+"$",""),e},t.prototype.go=function(t){var e=t.path,n=void 0===e?"":e,o=t.params,i=void 0===o?{}:o;r(n,i),this.hash(n)},t.prototype.hash=function(t){return t?void(window.location.hash="#"+t):window.location.hash},t.prototype.reflesh=function(){var t=window.location.hash;window.location.hash="#",window.location.hash=t},t.prototype.back=function(){window.history.back()},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(10),a=new i.default,u=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,s=/^\s*(\S+)\s*$/,c=/(\/\*.*?\*\/)|(\/\/$)/gm,p=function(){function t(){}return t.prototype.inject=function(t,e){function n(t){return function(){var e=y.invoke(t);return"undefined"==o.default.type(e)&&r.error("factory函数必须有返回值"),e}}function i(t,e){function n(n){if(p(g),t.hasOwnProperty(n))return t[n];try{return t[n]=e(n)}finally{m&&delete t[n]}}function i(t,e,i,a){1==arguments.length&&(e=null);var u=l(t,a).map(function(t){return"string"==o.default.type(t)?i&&i.hasOwnProperty(t)?i[t]:n(t):void r.error("无效的标识符"+t+"，标识符应为字符串")});return"array"==o.default.type(t)&&(t=t.slice(-1)[0]),t.apply(e,u)}function a(t,e){var n="array"==o.default.type(t)?t.slice(-1)[0]:t,r=Object.create(n.prototype);return i(t,r,e),r}function u(t){return h.hasOwnProperty(t)||f.hasOwnProperty(t+"Provider")}return{has:u,get:n,invoke:i,annotate:l,instantiate:a}}function p(t){if(t.length&&t[t.length-1][1].includes(t[0][0])){var e=t.map(function(t){return t[0]});e.push(t[0][0]),m=!0,r.error("发现循环依赖"+e.join("->"))}}function l(t,n){var i=[];if("array"==o.default.type(t)&&(i=t.length?t.slice(0,t.length-1):[]),"function"==o.default.type(t))if(e)r.error("函数没有$inject属性，不能再严格模式下使用");else if(t.$inject)i=t.$inject;else{var a=t.toString().replace(c,"").match(u);i=o.default.arrayCompact(a[1].split(",")).map(function(t){return t.match(s)[1]}),null!=n&&g.push([n,i]);
}return i}"array"!=o.default.type(t)&&r.error("模块的名称的参数为数组");var f={$injector:void 0,$provider:{data:void 0,provider:void 0}},d=f.$injector=i(f,function(){}),h={$injector:void 0},y=h.$injector=i(h,function(t){var e=d.get(t+"Provider");return y.invoke(e.$get,e)}),v=new Map,m=!1,g=[],b=[];f.$provider={data:function(t,e){"hasOwnProperty"!=t&&"$injector"!=t&&"$provider"!=t||r.error(t+"不能用于标识符"),h[t]=e,f[t]=e},provider:function(t,e){"hasOwnProperty"!=t&&"$injector"!=t&&"$provider"!=t||r.error(t+"不能用于标识符"),"function"==o.default.type(e)&&(e=d.instantiate(e)),f[t+"Provider"]=e},factory:function(t,e){this.provider(t,{$get:n(e)})},value:function(t,e){this.factory(t,function(){return e})},service:function(t,e){this.factory(t,function(){return y.instantiate(e)})}};var _=function(t){t.forEach(function(t){var e=d.get(t[0]),n=t[1],r=t[2];e[n].apply(e,r)})};return t.forEach(function t(e){if(!v.get(e)){if(v.set(e,!0),"string"==o.default.type(e)){var n=a.module(e);n.requires.forEach(t),_(n._invokeQueue),_(n._configQueue),b=b.concat(n._runQueue)}"function"!=o.default.type(e)&&"array"!=o.default.type(e)||b.push(d.invoke(e))}}),o.default.arrayCompact(b).forEach(function(t){y.invoke(t)}),y},t}();e.default=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.nonComputedMember=function(t,e){return"("+t+")."+e},t.prototype.computedMember=function(t,e){return"("+t+")["+e+"]"},t.prototype.notExist=function(t){return"!("+t+")"},t.prototype.concatCode=function(t,e){return t+"="+e+";"},t.prototype.conditionIsRight=function(t,e,n){t.push("if(",e,"){",n,"}")},t.prototype.compileId=function(t,e,n){var r="compileId"+t;return n||e.unshift(r),r},t}();e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(){function t(){}return t.prototype.type=function(t){var e=Object.prototype.toString,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object","[object Map]":"map","[object Set]":"set","[object Symbol]":"symbol"};return n[e.call(t)]},t.prototype.isNumber=function(t){return"string"==this.type(t)&&(t>="0"&&t<="9")},t.prototype.isExponent=function(t){return"+"===t||"-"===t||this.isNumber(t)},t.prototype.isLetter=function(t){var e=t.split("");return e.every(function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t})},t.prototype.isWhiteSpace=function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},t.prototype.whichType=function(t){return"string"!=this.type(t)&&r.error("数据类型错误"+t),this.isNumber(t)||"."===t?"number":"'"===t.charAt(0)||'"'===t.charAt(0)?"string":this.isLetter(t)?"letter":"["===t||"]"===t||","===t?"array":"{"===t||"}"===t||":"===t?"object":"("===t||")"===t?"function":"other"},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(35),i=n(34),a=n(2),u=function(){function t(){}return t.prototype.isEqual=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.areEqual=function(t,e,n){return n?this.compare(t,e):"NaN"==t.toString()||t===e},t.prototype.compare=function(t,e){var n=/undefined|number|string|boolean/,r=/^(function\s*)(\w*\b)/,o="constructor",i="childNodes",a="parentNode";if(n.test(typeof t)||n.test(typeof e)||null===t||null===e)return t===e||isNaN(t)&&isNaN(e);if(t[o]!==e[o])return!1;switch(t[o]){case Date:return t.valueOf()===e.valueOf();case Function:return t.toString().replace(r,"$1")===e.toString().replace(r,"$1");case Array:if(t.length!==e.length)return!1;for(var u=0;u<t.length;u++)t[u].toString()==e[u].toString();break;default:var s=0,c=0,p=void 0;if(t===e)return!0;if(t[i]||t[a]||e[i]||e[a])return t===e;for(p in t)s++;for(p in e)c++;if(s!==c)return!1;for(p in t)if(t[p].toString()!=e[p].toString())return!1}return!0},t.prototype.clone=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.deepClone=function(t){var e,n,r,o=this.type(t);if("array"===o)e=[];else{if("object"!==o)return t;e={}}if("array"===o){for(n=0,r=t.length;n<r;n++)e.push(this.deepClone(t[n]));return e}if("object"===o){for(n in t)e[n]=this.deepClone(t[n]);return e}},t.prototype.repeatObj=function(t,e){switch("number"!=this.type(e)&&a.error("函数repeat的参数manyTime类型为number"),this.type(t)){case"string":return t.repeat(e);case"function":for(var n=new Array(e),r=0;r<n.length;r++)t();break;default:return null}},t.prototype.everyScope=function(t,e){return!!t(e)&&e.$children.every(function(n){return n.everyScope(t,e)})},t.prototype.handelEvent=function(t,e,n){var r=e[t]||function(){};try{r(n)}catch(t){a.error(t)}},t.prototype.objToMap=function(t){if("object"==this.type(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}},t.prototype.mapToObj=function(t){if("map"==this.type(t)){var e={};return t.forEach(function(t,n){e[n]=t}),e}},t.prototype.nextLeter=function(t,e){return t<e.length-1&&e.charAt(t+1)},t.prototype.wrapString=function(t){return"string"==this.type(t)?"'"+t+"'":"null"==this.type(t)?"null":t},t.prototype.expect=function(t){function e(e){return o.exitFirst(t,e)}for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this;if(n.some(e))return t.shift()},t.prototype.consume=function(t,e){var n=this.expect(t,e);return n||a.error("词法解析错误"+e),n},t.prototype.exit=function(t,e){if("array"==this.type(e)&&e.length)for(var n=0;n<e.length;n++)if(t==e[n].text)return n},t.prototype.exitFirst=function(t,e){if("array"==this.type(t)&&t.length)return e&&e!=t[0].text?void 0:t[0]},t.prototype.uArray=function(t){var e=[],n=new Set(t);return n.forEach(function(t){e.push(t)}),e},t.prototype.arrayItem=function(t,e){if("array"==this.type(e)){for(var n=[],r=0;r<e.length;r++)e[r].toString()===t.toString()&&n.push(r);return n}},t.prototype.arrayItem2=function(t,e){if("array"==this.type(e)){for(var n,r=0;r<e.length;r++)e[r].name===t&&(n=r);return n}},t.prototype.arrayLastItem=function(t,e){if("array"==this.type(e)){var n;e=e.reverse();for(var r=0;r<e.length;r++)e[r]===t&&(n=r);return n}},t.prototype.arraySplice=function(t,e){if("array"==this.type(e)){for(var n=this.arrayItem(t,e),r=0;r<n.length;r++)e.splice(n[r],1);return e}},t.prototype.arrayCompact=function(t){var e=[];return t.forEach(function(t){""!=t&&null!=t&&void 0!=t&&e.push(t)}),e},t.prototype.intersection=function(t,e){return t.filter(function(t){return e.includes(t)})},t.prototype.parseString=function(t){if("string"==this.type(t))return new Function("return "+t)},t.prototype.hasProperty=function(t,e){return t+" && ("+this.wrapString(e)+" in "+t+")"},t.prototype.inStr=function(t,e){return e.includes(t)},t.prototype.objKey=function(t){var e=[];for(var n in t)e.push(n);return e},t.prototype.objVal=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.prototype.isEmpty=function(t){if("object"==this.type(t))return"{}"==JSON.stringify(t)},t.prototype.expectSome=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.clone(t);return e.forEach(function(t){delete r[t]}),r},t.prototype.cameCase=function(t){return t.replace(/\-(\w)/g,function(t){return t.slice(1).toUpperCase()})},t.prototype._cameCase=function(t){return t.replace(/([A-Z])/g,"-$1")},t.prototype.extend=function(t,e){for(var n in e)t[n]=e[n];return t},t.prototype.trimStr=function(t){var e=t.trim();return e=e.replace(/\s+/g,""),e=e.replace(/[\r\n]/g,"")},t.prototype.now=function(){var t=new Date,e=t.getFullYear().toString(),n=(t.getMonth()+1).toString(),r=t.getDate().toString();return n=parseInt(n)<10?"0"+n:n,e+n+r+"0"},t.prototype.page=function(){return{width:window.innerWidth,height:window.innerHeight}},t.prototype.classToJson=function(t,e){void 0===e&&(e=!1);var n,r={};t?n=new t:a.error("函数"+t+"未找到");for(var o=Object.create(n),i=o.__proto__,u=o.__proto__.__proto__,s=Object.entries(i).concat(Object.entries(u).slice(1)),c=Object.getOwnPropertyNames(u),p={},l=1;l<c.length;l++)p[c[l]]=u[c[l]];return s.forEach(function(t,n){p[t[0]]=t[1],e&&(r[t[0]]=t[1])}),{componentJson:p,rootComponent:r}},t}();e.util=u,r.applyMixins(u,[o.default,i.default])}])});
//# sourceMappingURL=bundle.js.map