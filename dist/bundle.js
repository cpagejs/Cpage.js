!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new(r(12).util);e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.error=e.warn=e.info=e.log=void 0,e.log=function(t){console.log(t)},e.info=function(t){console.info(t)},e.warn=function(t){console.warn(t)},e.error=function(t){throw new Error(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.elements=document.querySelectorAll(t),this.els=this._getEles(this.elements)}return t.prototype._getEles=function(t){if(t&&t.length)return t},t.prototype.each=function(t,e){for(var r=0;r<t.length;r++)e(t[r],r)},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),o=r(29),i=new n.default,a=new o.default,u=function(){function t(t){void 0===t&&(t="Cpage"),this.app=i.module(t,[]),this.ins=function(){return a.inject([t])}}return t.prototype.data=function(t,e){this.app.data(t,e)},t.prototype.has=function(t){return this.ins().has(t)},t.prototype.get=function(t){return this.ins().get(t)},t.prototype.provider=function(t,e){this.app.provider(t,e)},t.prototype.factory=function(t,e){this.app.factory(t,e)},t.prototype.service=function(t,e){this.app.service(t,e)},t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new(function(){function t(){this.eventList={}}return t.prototype.emit=function(t,e){var r=Array.prototype.shift.call(arguments),n=this.eventList[r];if(!n||0===n.length)return!1;for(var o,i=0;o=n[i++];)o.apply(this,arguments)},t.prototype.on=function(t,e){this.eventList[t]||(this.eventList[t]=[]),this.eventList[t].push(e)},t.prototype.remove=function(t,e){var r=this.eventList[t];if(!r)return!1;if(e)for(var n=r.length-1,o=r[n];n>=0;n--)o===e&&r.splice(n,1);else r&&(r.length=0)},t}());e.default=n},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.applyMixins=e.mixins=void 0,e.mixins=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){Object.assign.apply(Object,o([e.prototype],t))}},e.applyMixins=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(r){t.prototype[r]=e.prototype[r]}))}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(18),o=r(19),i=new(r(23).default),a=r(0),u=function(){function t(){this.pipes=i.pipes}return t.prototype.register=function(t,e){return i.register(t,e),this},t.prototype.pipe=function(t){return i.pipe(t)},t.prototype.parse=function(t){var e=this;return function(t,r){switch(a.default.type(t)){case"string":var i=new n.default,u=new o.default(i,r),s=!1;":"==t.charAt(0)&&":"==t.charAt(1)&&(s=!0,t=t.substring(2));var l=u.parse(t);return l.constant&&(l.$$handelWatch=e.constantHandelWatch),s&&(l.$$handelWatch=l.literal?e.oneTimeLiteralHandelWatch:e.oneTimeHandelWatch),l.inputs&&(l.$$handelWatch=e.inputsHandelWatch),l;case"function":return t}}(t,this.pipes)},t.prototype.constantHandelWatch=function(t,e,r,n){return t.$watch((function(){return n(t)}),(function(t,r,n){"function"==a.default.type(e)&&e.apply(this,arguments)}),r)},t.prototype.oneTimeHandelWatch=function(t,e,r,n){var o,i=t.$watch((function(){return n(t)}),(function(t,r,n){o=t,"function"==a.default.type(e)&&e.apply(this,arguments),"undefined"!=a.default.type(t)&&n.$afterDigest((function(){"undefined"!=a.default.type(o)&&i()}))}),r);return i},t.prototype.oneTimeLiteralHandelWatch=function(t,e,r,n){var o,i=t.$watch((function(){return n(t)}),(function(t,r,n){o=t,"function"==a.default.type(e)&&e.apply(this,arguments),"undefined"!=a.default.type(t)&&n.$afterDigest((function(){"undefined"!=a.default.type(o)&&i()}))}),r);return i},t.prototype.inputsHandelWatch=function(t,e,r,n){n.inputs;return t.$watch((function(){}),e,r)},t}(),s=new u;function l(t,e){return"null"==a.default.type(t)||"null"==a.default.type(e)?t===e:"undefined"!=a.default.type(t)&&(t=(""+t).toLowerCase(),e=(""+e).toLowerCase(),t.includes(e))}e.default=s,(new u).register("filter",(function(){return function(t,e){var r,n;switch(a.default.type(e)){case"function":r=e;break;case"string":case"number":case"boolean":case"null":case"undefined":case"object":n=e,r=function(t){return function t(e,r,n){if("string"==a.default.type(r)&&r.startsWith("!"))return!t(e,r.substring(1),n);if("object"==a.default.type(e)){if("object"==a.default.type(r))for(var o in r)return t(e[o],r[o],n);return a.default.objVal(e).some((function(e){return t(e,r,n)}))}return n(e,r)}(t,n,l)};break;default:return t}return t.filter(r)}}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OPERATORS=e.LETTER=e.SPECIALS=void 0;e.SPECIALS={"'":"'",'"':'"',"&":"&","\\":"\\",n:"\n",r:"\r",t:"\t",b:"\b",f:"\f"};var n={null:null,true:!0,false:!1,undefined:void 0,this:void 0};e.LETTER=n;e.OPERATORS={"+":!0,"!":!0,"-":!0,"*":!0,"%":!0,"/":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"==":!0,"===":!0,"!=":!0,"!==":!0,"&&":!0,"||":!0,"|":!0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ast_teranry=e.ast_logical=e.ast_binary=e.ast_unary=e.ast_assignment=e.ast_function=e.ast_member=e.ast_this=e.ast_identifier=e.ast_json=e.ast_object=e.ast_array=e.ast_constant=e.ast_init=e.dataType=void 0,e.dataType={1:"ASTBuilder.Init",2:"ASTBuilder.MetaData",3:"ASTBuilder.Array",4:"ASTBuilder.Object",5:"ASTBuilder.Identifier",6:"ASTBuilder.This",7:"ASTBuilder.Member",8:"ASTBuilder.Function",9:"ASTBuilder.Assignment",10:"ASTBuilder.Unary",11:"ASTBuilder.Binary",12:"ASTBuilder.Logical",13:"ASTBuilder.Teranry"},e.ast_init={type:e.dataType[1],body:{}},e.ast_constant={type:e.dataType[2],value:void 0},e.ast_array={type:e.dataType[3],value:void 0},e.ast_object={type:e.dataType[4],value:void 0},e.ast_json={type:e.dataType[5],key:void 0,value:void 0},e.ast_identifier={type:e.dataType[5],value:void 0},e.ast_this={type:e.dataType[6]},e.ast_member={type:e.dataType[7],object:void 0,property:void 0,computed:void 0},e.ast_function={type:e.dataType[8],callee:void 0,arguments:void 0,pipe:Boolean},e.ast_assignment={type:e.dataType[9],left:void 0,right:void 0},e.ast_unary={type:e.dataType[10],operator:"+",value:void 0},e.ast_binary={type:e.dataType[11],left:void 0,operator:void 0,right:void 0},e.ast_logical={type:e.dataType[12],left:void 0,operator:void 0,right:void 0},e.ast_teranry={type:e.dataType[13],boolean_expression:void 0,true_value:void 0,error_value:void 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o={},i=function(){function t(){this.modules={name:"",requires:[]}}return t.prototype.clear=function(){this.modules={}},t.prototype.module=function(t,e,r){var n={};return this.modules=e?this.$$set(t,e,n,r):this.$$get(t,n),this.modules},t.prototype.$$set=function(t,e,r,i){"hasOwnProperty"==t&&n.error("hasOwnProperty不能用于键名");var a=[],u=[],s=function(t,e,r,n){return void 0===r&&(r="push"),void 0===n&&(n=a),function(){return n[r]([t,e,arguments]),l}},l={name:t,requires:e,data:s("$provider","data","unshift"),provider:s("$provider","provider"),factory:s("$provider","factory"),value:s("$provider","value"),service:s("$provider","service"),config:s("$injector","invoke","push",u),run:function(t){return l._runQueue.push(t),l},pipe:s("$pipeProvider","register"),_invokeQueue:a,_configQueue:u,_runQueue:[]};return i&&l.config(i),this.modules=o[t]=l,l},t.prototype.$$get=function(t,e){if(o.hasOwnProperty(t))return o[t];n.error("名称为"+t+"的module不存在！")},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Store=e.Dom=e.Component=void 0;var n=r(11);Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return n.Component}});var o=r(31);e.Dom=o.default;var i=new(r(3).default)("user");e.Store=i,e.default=n.default,window.Cpage=new n.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var n=r(1),o=r(0),i=r(15),a=r(30),u=new(r(3).default);u.data("componentList",[]),u.service("component",(function(){this.ensureOneInvokeComponent=function(t,e){for(var r={type:"yes"},n=[],o=[],i=0;i<e.length;i++)e[i].name==t&&n.push(t),o.push(e[i].name);return n.length>=2&&(r={type:"no",info:"只能有一个根组件，却发现"+n.length+"个"+t+"根组件"}),r}}));var s=function(){function t(){this.CList=[],this.id=0,this.id=0}return t.bootstrap=function(t,e){var r={};!function t(e,n){void 0===n&&(n=!1);var i=o.default.classToJson(e,n),s=i.componentJson;n&&(r=i.rootComponent),a.default(s),u.data("componentList",u.get("componentList").push(s)),s.components&&"array"==o.default.type(s.components)&&s.components.length&&s.components.forEach((function(e){t(e)}))}(e,!0),new i.default(t,r,u.get("componentList")).componentToDom()},t.router=function(t){var e;e=t,"array"!=o.default.type(e)&&n.error("路由配置项需为数组形式"),t.forEach((function(t){var e=o.default.classToJson(t.component,!1);t.component=e.componentJson})),u.data("routerConfig",t)},t.prototype.directive=function(t,e){var r=e();r.id=this.id,this.CList.push(r),this.id++;var o=u.get("component").ensureOneInvokeComponent(t,this.CList);return"no"==o.type&&n.error(o.info),r},t.prototype.component=function(t){a.default(t);var e=o.default.deepClone(t);return Object.defineProperties(e,{isRoot:{value:!1,writable:!0},$el:{value:void 0,writable:!0},$props:{value:{},writable:!0}}),this.directive(t.name,(function(){return e}))},t.prototype.bootstrap=function(t,e){if("string"!=o.default.type(t)&&n.error(t+"应为字符串"),document.querySelector(t)||n.error("节点“"+t+"”不存在"),"object"!=o.default.type(e)&&n.error(e+"应为json对象"),2==arguments.length){a.default(e),e.name||n.error("找不到根组件的name属性"),u.data("rootComponent",e.name);var r=new i.default(t,e,this.CList);r.componentToDom()}},t.version="1.2.5",t}();e.default=s;var l=function(){function t(){this.components=[],this.name="",this.template="",this.templateUrl="",this.style="",this.styleUrl="",this.data={},this.props={}}return t.prototype.render=function(){n.error("render方法必须被继承")},t}();e.Component=l},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.util=void 0;var i=r(5),a=r(13),u=r(14),s=r(1),l=function(){function t(){}return t.prototype.isEqual=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.areEqual=function(t,e,r){return r?this.compare(t,e):"NaN"==t.toString()||t===e},t.prototype.compare=function(t,e){var r=/undefined|number|string|boolean/,n=/^(function\s*)(\w*\b)/,o="constructor",i="childNodes",a="parentNode";if(r.test(typeof t)||r.test(typeof e)||null===t||null===e)return t===e||isNaN(t)&&isNaN(e);if(t[o]!==e[o])return!1;switch(t[o]){case Date:return t.valueOf()===e.valueOf();case Function:return t.toString().replace(n,"$1")===e.toString().replace(n,"$1");case Array:if(t.length!==e.length)return!1;for(var u=0;u<t.length;u++)t[u].toString(),e[u].toString();break;default:var s=0,l=0,c=void 0;if(t===e)return!0;if(t[i]||t[a]||e[i]||e[a])return t===e;for(c in t)s++;for(c in e)l++;if(s!==l)return!1;for(c in t)if(t[c].toString()!=e[c].toString())return!1}return!0},t.prototype.clone=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.deepClone=function(t){var e,r,n,o=this.type(t);if("array"===o)e=[];else{if("object"!==o)return t;e={}}if("array"===o){for(r=0,n=t.length;r<n;r++)e.push(this.deepClone(t[r]));return e}if("object"===o){for(r in t)e[r]=this.deepClone(t[r]);return e}},t.prototype.repeatObj=function(t,e){switch("number"!=this.type(e)&&s.error("函数repeat的参数manyTime类型为number"),this.type(t)){case"string":return t.repeat(e);case"function":for(var r=new Array(e),n=0;n<r.length;n++)t();break;default:return null}},t.prototype.everyScope=function(t,e){return!!t(e)&&e.$children.every((function(r){return r.everyScope(t,e)}))},t.prototype.handelEvent=function(t,e,r){var n=e[t]||function(){};try{n(r)}catch(t){s.error(t)}},t.prototype.objToMap=function(t){if("object"==this.type(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}},t.prototype.mapToObj=function(t){if("map"==this.type(t)){var e={};return t.forEach((function(t,r){e[r]=t})),e}},t.prototype.nextLeter=function(t,e){return t<e.length-1&&e.charAt(t+1)},t.prototype.wrapString=function(t){return"string"==this.type(t)?"'"+t+"'":"null"==this.type(t)?"null":t},t.prototype.expect=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this;function o(e){return n.exitFirst(t,e)}if(e.some(o))return t.shift()},t.prototype.consume=function(t,e){var r=this.expect(t,e);return r||s.error("词法解析错误"+e),r},t.prototype.exit=function(t,e){if("array"==this.type(e)&&e.length)for(var r=0;r<e.length;r++)if(t==e[r].text)return r},t.prototype.exitFirst=function(t,e){if("array"==this.type(t)&&t.length)return e&&e!=t[0].text?void 0:t[0]},t.prototype.uArray=function(t){var e=[];return new Set(t).forEach((function(t){e.push(t)})),e},t.prototype.arrayItem=function(t,e){if("array"==this.type(e)){for(var r=[],n=0;n<e.length;n++)e[n].toString()===t.toString()&&r.push(n);return r}},t.prototype.arrayItem2=function(t,e){if("array"==this.type(e)){for(var r,n=0;n<e.length;n++)e[n].name===t&&(r=n);return r}},t.prototype.arrayLastItem=function(t,e){if("array"==this.type(e)){var r;e=e.reverse();for(var n=0;n<e.length;n++)e[n]===t&&(r=n);return r}},t.prototype.arraySplice=function(t,e){if("array"==this.type(e)){for(var r=this.arrayItem(t,e),n=0;n<r.length;n++)e.splice(r[n],1);return e}},t.prototype.arrayCompact=function(t){var e=[];return t.forEach((function(t){""!=t&&null!=t&&null!=t&&e.push(t)})),e},t.prototype.intersection=function(t,e){return t.filter((function(t){return e.includes(t)}))},t.prototype.parseString=function(t){if("string"==this.type(t))return new Function("return "+t)},t.prototype.hasProperty=function(t,e){return t+" && ("+this.wrapString(e)+" in "+t+")"},t.prototype.inStr=function(t,e){return e.includes(t)},t.prototype.objKey=function(t){var e=[];for(var r in t)e.push(r);return e},t.prototype.objVal=function(t){var e=[];for(var r in t)e.push(t[r]);return e},t.prototype.isEmpty=function(t){if("object"==this.type(t))return"{}"==JSON.stringify(t)},t.prototype.expectSome=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.clone(t);return e.forEach((function(t){delete n[t]})),n},t.prototype.cameCase=function(t){return t.replace(/\-(\w)/g,(function(t){return t.slice(1).toUpperCase()}))},t.prototype._cameCase=function(t){return t.replace(/([A-Z])/g,"-$1")},t.prototype.extend=function(t,e){for(var r in e)t[r]=e[r];return t},t.prototype.trimStr=function(t){var e=t.trim();return e=(e=e.replace(/\s+/g,"")).replace(/[\r\n]/g,"")},t.prototype.now=function(){var t=new Date,e=t.getFullYear().toString(),r=(t.getMonth()+1).toString(),n=t.getDate().toString();return e+(r=parseInt(r)<10?"0"+r:r)+n+"0"},t.prototype.page=function(){return{width:window.innerWidth,height:window.innerHeight}},t.prototype.classToJson=function(t,e){var r;void 0===e&&(e=!1);var n={};t?r=new t:s.error("函数"+t+"未找到");for(var o=Object.create(r),i=o.__proto__,a=o.__proto__.__proto__,u=Object.entries(i).concat(Object.entries(a).slice(1)),l=Object.getOwnPropertyNames(a),c={},f=1;f<l.length;f++)c[l[f]]=a[l[f]];return u.forEach((function(t,r){c[t[0]]=t[1],e&&(n[t[0]]=t[1])})),{componentJson:c,rootComponent:n}},t.prototype.sleep=function(t){return void 0===t&&(t=0),n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){return setTimeout(e,t)}))];case 1:return e.sent(),[2]}}))}))},t.prototype.isNil=function(t){return null==t},t}();e.util=l,i.applyMixins(l,[a.default,u.default])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=function(){function t(){}return t.prototype.type=function(t){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object","[object Map]":"map","[object Set]":"set","[object Symbol]":"symbol"}[Object.prototype.toString.call(t)]},t.prototype.isNumber=function(t){return"string"==this.type(t)&&(t>="0"&&t<="9")},t.prototype.isExponent=function(t){return"+"===t||"-"===t||this.isNumber(t)},t.prototype.isLetter=function(t){return t.split("").every((function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t}))},t.prototype.isWhiteSpace=function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},t.prototype.whichType=function(t){return"string"!=this.type(t)&&n.error("数据类型错误"+t),this.isNumber(t)||"."===t?"number":"'"===t.charAt(0)||'"'===t.charAt(0)?"string":this.isLetter(t)?"letter":"["===t||"]"===t||","===t?"array":"{"===t||"}"===t||":"===t?"object":"("===t||")"===t?"function":"other"},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.nonComputedMember=function(t,e){return"("+t+")."+e},t.prototype.computedMember=function(t,e){return"("+t+")["+e+"]"},t.prototype.notExist=function(t){return"!("+t+")"},t.prototype.concatCode=function(t,e){return t+"="+e+";"},t.prototype.conditionIsRight=function(t,e,r){t.push("if(",e,"){",r,"}")},t.prototype.compileId=function(t,e,r){var n="compileId"+t;return r||e.unshift(n),n},t}();e.default=n},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),u=r(0),s=r(16),l=r(17),c=r(24),f=r(4),p=r(25),d=r(6),h=r(26),y=r(28),v=new(r(3).default),m=u.default.isNil,b=/(x[\:\-_]|data[\:\-_])/i,g="c-data-id",w=function(){function t(t,e,r){this.selector=t,this.root=e,this.CList=r,this.CObj=this.listToObj(r),this.eventList=[],this.cRefList=[],this.cShowList=[],this.cIfList=[],this.ifTpl={},this.cForTpl={},this.cHtmlList=[],this.cForList=[],this.cRepeatList=[],this.cViewList=[],this.dataId=parseInt(u.default.now()),this.componentNames=this.getComponentNameList(),this.componentAttrs={},this.templateId={},this.oneRootComponent=1,this.$router=void 0,this.$routerCache={}}return t.prototype.componentToDom=function(){return n(this,void 0,void 0,(function(){function t(){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,void(l=a.loopNodes(a.root.name,s.default.create(f),c))];case 1:return t.sent(),[4,e()];case 2:return t.sent(),[4,r()];case 3:return t.sent(),[2]}}))}))}function e(){a.root.template=l[0].outerHTML,a.root.isRoot=!0,a.templateId[l[0].getAttribute(g)]=l[0].outerHTML,a.loopComponents(c,a.root.components,a.root.name,a.root.data)}function r(){v.has("routerConfig")&&setTimeout((function(){var t,e=window.location.hash;if(""===e||"#/"===e){var r=(t=void 0,v.get("routerConfig").forEach((function(e){"/"==e.path&&(t=e)})),t);"object"==u.default.type(r)&&o(r)}else{var n=i(e.substr(1));null!=n&&o(n)}function o(t){var e=t.component.name,r=t.delay||0;setTimeout((function(){a.cViewList.forEach((function(r){s.default.q(r.ele)&&(r.beforeDestory&&r.beforeDestory(),t.cache&&a.$routerCache.hasOwnProperty(e)?(s.default.q(r.ele).innerHTML=a.$routerCache[e],a.handelEventListener(a.CObj[e],s.default.q(r.ele).firstChild)):(s.default.q(r.ele).innerHTML="",s.default.q(r.ele).insertAdjacentHTML("afterbegin","<"+u.default._cameCase(e)+"></"+u.default._cameCase(e)+">"),a.loopNodes(e,s.default.q(r.ele).childNodes,[]),a.loopComponents([a.CObj[e]],[],r.which,a.CObj[r.which].data||{}),setTimeout((function(){a.$routerCache[e]=s.default.q(u.default._cameCase(e)).outerHTML}),0)))}))}),r)}window.addEventListener("hashchange",(function(t){var e="";t.newURL.includes("/#")&&(e=t.newURL.split("/#")[1]);var r=i(e);m(r)||o(r)}),!1)}),0)}function i(t){var e=new y.default(t,v.get("routerConfig"));return a.$router=e,e.nowRouter}var a,l,c,f;return o(this,(function(e){switch(e.label){case 0:return a=this,c=[],f=s.default.wrapDom(this.theTpl(this.root),u.default._cameCase(this.root.name).toLowerCase()),[4,t()];case 1:return e.sent(),[2]}}))}))},t.prototype.theTpl=function(t){return(t.template?t.template.trim():void 0)||s.default.hasHtml(t.templateId)||s.default.hasHtmlUrl(t.templateUrl)},t.prototype.theStyle=function(t){return null!=(n=t.style)&&{type:"string",result:n}||(r=t.styleId,!m(s.default.q(r))&&{type:"id",result:r})||null!=(e=t.styleUrl)&&{type:"url",result:e[0][1]};var e,r,n},t.prototype.loopNodes=function(t,e,r){for(var n=this,o=0;o<e.length;o++){if(e[o]&&1===e[o].nodeType)e[o].setAttribute("c-data-id",this.dataId),this.getComponent(e[o],t).forEach((function(t){r&&r.push(u.default.deepClone(u.default.extend(n.CObj[t],{token:n.dataId})))})),this.dataId++,this.addDirectiveList(t,e[o]),e[o].childNodes&&e[o].childNodes.length&&this.loopNodes(t,e[o].childNodes,r)}return e},t.prototype.addDirectiveList=function(t,e){for(var r=0,n=e.attributes;r<n.length;r++){var o=this.normalizeDirective(n[r].name);if(o.match(/^cClick|cDbclick|cMouseover|cMousedown|cMouseup|cMousemove|cMouseout|cMouseleave|cBlur|cFocus|cChange|cInput|cDrag|cDragend|cDragenter|cDragleave|cDragover|cDragstart|cDrop|cFocus|cKeydown|cKeypress|cKeyup|cScroll|cSelect|cSubmit|cToggle|cResize|cWaiting|cProgress|cLoadstart|cDurationchange|cLoadedmetadata|cLoadeddata|cCanplay|cCanplaythrough|cPlay|cPause|cRef|cShow|cIf|cHtml|cFor|cRepeat|cView|\@*$/g))switch(o){case"cRef":this.cRefList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)});break;case"cShow":this.cShowList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),directive:o});var i=s.default.boolToDisplay(l.default(n[r].value,this.CObj[t].data,this.CObj[t].props));e.style.display=i;break;case"cIf":this.cIfList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),directive:o,html:e.outerHTML}),"true"==l.default(n[r].value,this.CObj[t].data,this.CObj[t].props)&&(e.style.display="none");break;case"cHtml":this.cHtmlList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),directive:o,html:e.outerHTML});break;case"cFor":this.cForList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g),html:e.innerHTML});break;case"cRepeat":this.cRepeatList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)});break;case"cView":this.cViewList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)});break;default:this.eventList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+g+'="'+e.getAttribute(g)+'"]',id:e.getAttribute(g)})}}},t.prototype.loopComponents=function(t,e,r,i){var u=this;t.length&&void 0===e&&a.error("找不到组件为"+r+"的components属性");var s=this;t.forEach((function(t){return n(u,void 0,void 0,(function(){function e(){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,s.handelBeforeRender(t)];case 1:return e.sent(),[4,s.handelAfterRender(t)];case 2:return e.sent(),[4,s.handelDataChange(t)];case 3:return e.sent(),[2]}}))}))}return o(this,(function(r){switch(r.label){case 0:return void 0===t?[2]:(t.$data=c.default.$data,t.$http=h.default,t.$event=p.default,t.$router=s.$router,[4,e()]);case 1:return r.sent(),[2]}}))}))}))},t.prototype.handelBeforeRender=function(t){t.beforeRender&&(t.$el=void 0,t.$refs=void 0,t.componentStatus="beforeRender",t.beforeRender&&t.beforeRender())},t.prototype.handelAfterRender=function(t){return n(this,void 0,void 0,(function(){function e(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,r()];case 1:return[4,i(n.sent())];case 2:return[4,u(n.sent())];case 3:return[4,c(n.sent())];case 4:return[4,f(n.sent())];case 5:return[4,p(n.sent())];case 6:return e=n.sent(),[4,(o=e,void d.handelEventListener(t,o))];case 7:return n.sent(),[2]}var o}))}))}function r(){return s.default.addStyle(d.theStyle(t),t),"done"}function i(e){return n(this,void 0,void 0,(function(){var r,n,i,u,c;return o(this,(function(o){return"done"!==e?[2]:(t.name===d.root.name?(2===d.oneRootComponent&&a.error("根组件"+d.root.name+"只能有一个"),void 0===(n=s.default.q(d.selector))&&a.error("节点"+d.selector+"不存在"),n.innerHTML=l.default(d.theTpl(d.root),d.root.data,{}),r=s.default.q("["+g+'="'+t.token+'"]'),d.oneRootComponent++):(i=d.loopNodes(t.name,s.default.create(d.theTpl(d.CObj[t.name]))),u=s.default.q(t.name)&&parseInt(s.default.q(t.name).getAttribute(g)),t.token||(t.token=u),r=s.default.q("["+g+'="'+t.token+'"]'),t.token&&!r&&(r=s.default.q("["+g+'="'+u+'"]')),r?(d.templateId[t.token]=i[0].outerHTML,c=s.default.combineAttrAndProps(d.componentAttrs[t.token],d.CObj[t.name].props),t.$props=c,r.innerHTML=d.getChangedData(i[0].outerHTML,d.CObj[t.name].data,c)):console.log(t.name+"组件的token不存在",t)),[2,r])}))}))}function u(e){return d.loopCforToDom(d.cForList,t),e}function c(e){return d.loopIfToDom(d.cIfList,t),d.loopHtmlToDom(d.cHtmlList,t),e}function f(e){return t.$el=e,t.$refs={},d.cRefList.filter((function(e){return e.which==t.name})).forEach((function(e){t.$refs[e.fn]=s.default.q(e.ele)})),t.componentStatus="afterRender",t.render(),e}function p(e){if(t.name!==d.root.name&&e){var r=d.findComponent(e.firstChild);r.length&&t.name&&d.loopComponents(r,t.components,t.name,t.data)}return e}var d;return o(this,(function(r){switch(r.label){case 0:return d=this,t.render?[4,e()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.compareChildComponentAndInjectComponents=function(t,e){var r=this;t===this.root.name||!(!e.length&&t!==this.root.name)&&e.some((function(e){if(e.name)return t!==r.root.name&&t===e.name}))||a.error("名称为"+t+"的组件未找到")},t.prototype.handelEventListener=function(t,e){var r=s.default.getAttr(g,e),n=this.array_intersection(r,this.eventList);n.length&&n.filter((function(e){return e.which===t.name})).forEach((function(e){var r,n;if(document.querySelectorAll(e.ele))try{try{for(var o=i(document.querySelectorAll(e.ele)),u=o.next();!u.done;u=o.next()){u.value.addEventListener(e.type,(function(r){try{d.default.parse(e.fn)(t,{$event:r})}catch(t){console.log(t)}}),!1)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}catch(t){a.error(t)}else a.error("属性为"+e.ele+"的节点不存在！")}))},t.prototype.handelDataChange=function(t,e){var r=this,n=function(e){f.default.on(e,(function(n){if(n.target===t.token&&JSON.stringify(n.oldVal)!==JSON.stringify(n.newVal)){t.beforeUpdate&&t.beforeUpdate(n.oldVal,n.newVal,e);var o=s.default.create(r.templateId[t.token]),i=r.dataPosition(e,o,t.name);r.updateData(e,n),s.default.q(u.default._cameCase(t.name))&&(r.dataChangeToDom(o,i,n,t.name),t.afterUpdate&&t.afterUpdate(n.oldVal,n.newVal,e))}}))};for(var o in t.data)n(o)},t.prototype.updateData=function(t,e){var r=e.which;this.CObj[r].data[t]=e.newVal},t.prototype.dataChangeToDom=function(t,e,r,n){this.loopTextToDom(t,e,r,n),this.loopAttrToDom(e,r,n)},t.prototype.loopTextToDom=function(t,e,r,n){var o=e.filter((function(t){return"text"==t.type}));o.length&&o.forEach((function(e){var n=t[0].parentNode.querySelector(e.position).childNodes[e.item].textContent;document.querySelector(e.position)&&(document.querySelector(e.position).childNodes[e.item].textContent=l.default(n,r.new,r.props))}))},t.prototype.loopAttrToDom=function(t,e,r){var n=this,o=this,i=t.filter((function(t){return"attr"===t.type}));i.length&&i.forEach((function(i){switch(i.attr){case"c-show":var a=s.default.boolToDisplay(d.default.parse(i.value)(e.new));s.default.q(i.position).style.display=a,s.default.attr(i.position,"c-show","none"!==a);break;case"c-if":var u=s.default.q(i.position);u&&u.setAttribute(i.attr,e.newVal),n.handelIf(i,n.CObj[r]);break;case"c-for":n.loopCforToDom(t,n.CObj[r],"dataChange");break;default:!function(t){s.default.q(t.position).setAttribute(t.attr,e.newVal),o.componentAttrs[t.componentToken][t.attr]=e.newVal}(i)}i.isComponent&&function t(e){var n=o.dataPosition(e.attr,s.default.create(o.templateId[e.componentToken]),r);n.filter((function(t){return"text"==t.type})).forEach((function(t){var r=o.CObj[e.componentName],n=r.props,i=r.data,a=e.attr,u=o.componentAttrs[e.componentToken][e.attr],c=o.combineChangedProps(a,u,n),f=s.default.create(o.templateId[e.componentToken])[0].parentNode.querySelector(t.position).childNodes[t.item].textContent;s.default.q(t.position).childNodes[t.item].textContent=l.default(f,i,c)})),n.filter((function(t){return"attr"==t.type})).forEach((function(r){e.attr===r.value&&(r.value=e.value),s.default.q(r.position).setAttribute(r.attr,r.value),o.componentAttrs[r.componentToken][r.attr]=r.value,r.isComponent&&t(r)}))}(i)}))},t.prototype.loopCforToDom=function(t,e,r){var n=this,o=t.filter((function(t){return t.which==e.name})),i=this;o.forEach((function(t){var o=t.fn.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);o||a.error("c-for指令格式有误，正确方式类似 item in items");var c=o[2],f=n.inComponent(c,e);if(f&&"array"===u.default.type(f)){if("dataChange"===r&&(s.default.q(t.ele)?s.default.delDomExpectWhich('[c-for-id="'+s.default.q(t.ele).getAttribute("c-for-id")+'"]',0):s.default.replaceComment(s.default.q(u.default._cameCase(t.which)),"c-for:"+t.id,s.default.create(n.cForTpl[t.id])[0])),!f.length){var p=s.default.q(t.ele);return p.parentNode.replaceChild(s.default.addComment("c-for:"+t.id),p),void(n.cForTpl[t.id]=p.outerHTML)}f.forEach((function(r,n){var a=s.default.q(t.ele).cloneNode(!0),c={};c[o[1]]=r,a.innerHTML=l.default(t.html,c,i.CObj[e.name].props||{});var f=i.loopNodes(e.name,s.default.create(a.outerHTML)),p=i.findComponent(f[0]);if(f[0].setAttribute("c-for-id",t.id),0===n)s.default.q(t.ele).innerHTML=f[0].innerHTML,s.default.q(t.ele).setAttribute("c-for-id",t.id);else{var d=document.querySelectorAll('[c-for-id="'+t.id+'"][c-for="'+t.fn+'"]');d[d.length-1].insertAdjacentElement("afterEnd",f[0])}p.length&&i.loopComponents(u.default.deepClone(p),[],e.name,c)}))}else a.error("组件"+e.name+"内c-for指令的格式不正确")}))},t.prototype.loopIfToDom=function(t,e){var r=this;t.filter((function(t){return t.which==e.name})).forEach((function(t){r.handelIf(t,e)}))},t.prototype.handelIf=function(t,e){var r=s.default.q(t.ele||t.position);r?"false"===r.getAttribute("c-if")&&(e.beforeDestory&&e.beforeDestory(),r.parentNode.replaceChild(s.default.addComment("c-if:"+t.id),r),this.ifTpl[t.id]=r.outerHTML):(s.default.replaceComment(s.default.q(u.default._cameCase(e.name)),t.attr+":"+t.id,s.default.create(this.ifTpl[t.id])[0]),s.default.attr(t.ele||t.position,"c-if",!0),s.default.q(t.ele||t.position).style.display="block")},t.prototype.loopHtmlToDom=function(t,e){t.filter((function(t){return t.which===e.name})).forEach((function(t){s.default.q(t.ele).innerHTML=s.default.attr(t.ele,"c-html")}))},t.prototype.combineChangedProps=function(t,e,r){return r[t]&&(r[t].default=e),r},t.prototype.array_intersection=function(t,e){for(var r=[],n=0;n<e.length;n++)for(var o=e[n].id,i=0;i<t.length;i++)if(o===t[i]){r.push(e[n]);break}return r},t.prototype.isComponent=function(t){var e=s.default.parseName(t);return null!=this.CObj[e]},t.prototype.isComponentData=function(t,e){var r=new RegExp("{{\\s*([\\s\\S]*"+t+"[\\s\\S]*)\\s*}}","gm").exec(e);if(null===r)return null;var n={"":!0,"+":!0,"-":!0,"*":!0,"/":!0,"(":!0,")":!0,".":!0,"[":!0,"]":!0,"!":!0,"!=":!0,"!==":!0,">":!0,">=":!0,">==":!0,"<":!0,"<=":!0,"<==":!0,"?":!0,":":!0},o=r[1].indexOf(t),i=r[1].charAt(o-1),a=r[1].charAt(o-2),u=r[1].charAt(o-3),s=r[1].charAt(o+1),l=r[1].charAt(o+2),c=r[1].charAt(o+3);return n[i]||n[a]||n[u]||n[s]||n[l]||n[c]?r[1]:null},t.prototype.dataPosition=function(t,e,r){var n=[],o=this;return function e(i){if("object"==typeof i&&i.length)for(var u=0;u<i.length;u++)if(1===i[u].nodeType&&i[u].hasAttributes()){for(var l=0,c=i[u].attributes;l<c.length;l++)if("c-for"===c[l].name){var f=c[l].value.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);f||a.error("组件"+r+"内的c-for指令表达式"+c[l]+"有误"),f[2]!==t||o.isComponent(i[u])||(n=n.concat({attr:c[l].name,fn:c[l].value,type:"attr",id:i[u].getAttribute(g),ele:"["+g+'="'+i[u].getAttribute(g)+'"]',item:u,isComponent:!1,html:i[u].innerHTML,which:r}))}else{var p=o.isComponentData(t,c[l].value);if(p){var d=o.isComponent(i[u]);n=d?n.concat({attr:c[l].name,value:t,type:"attr",id:i[u].getAttribute(g),position:"["+g+'="'+i[u].getAttribute(g)+'"]',item:u,isComponent:!0,componentName:s.default.parseName(i[u]),componentToken:i[u].getAttribute(g),which:r}):n.concat({attr:c[l].name,value:p,type:"attr",id:i[u].getAttribute(g),position:"["+g+'="'+i[u].getAttribute(g)+'"]',item:u,isComponent:!1,which:r})}}i[u].childNodes&&i[u].childNodes.length&&e(i[u].childNodes)}}(e),function e(r){if("object"==typeof r&&r.length)for(var i=0;i<r.length;i++){if(3===r[i].nodeType){var a=r[i].textContent;o.isComponentData(t,a)&&(n=n.concat({value:t,type:"text",position:"["+g+'="'+r[i].parentNode.getAttribute(g)+'"]',item:i,isComponent:!1}))}r[i].childNodes&&r[i].childNodes.length&&e(r[i].childNodes)}}(e),n},t.prototype.listToObj=function(t){var e={};return t.forEach((function(t){e[t.name]=t})),e},t.prototype.getComponentNameList=function(){var t=[];return this.CList.forEach((function(e){t.push(e.name)})),t},t.prototype.findComponent=function(t){if(3!==t.nodeType){var e=[],r=this;return function t(n){var o=r.normalizeDirective(s.default.getNodeName(n).toLowerCase());r.componentNames.includes(o)&&e.push(u.default.deepClone(u.default.extend(r.CObj[o],{token:n.getAttribute(g)}))),n.childNodes&&n.childNodes.length&&n.childNodes.forEach((function(e){3!==e.nodeType&&t(e)}))}(t),e}},t.prototype.getComponent=function(t,e){var r=[],n=this;return function(t){var o=u.default.cameCase(s.default.getNodeName(t).toLowerCase());if(n.componentNames.includes(o)){r.push(o);for(var i={},a=0,c=t.attributes;a<c.length;a++)c[a].name!==g&&(i[c[a].name]=l.default(c[a].value,n.CObj[e].data,n.CObj[e].props));s.default.noOtherAttr(g,t)||(i.component=o,n.componentAttrs[t.getAttribute(g)]=i)}}(t),r},t.prototype.directiveIsMulit=function(t){for(var e=0,r=this.CList;e<r.length;e++)if(r[e].name==t&&1==r[e].mulit)return!0;return!1},t.prototype.componentLayer=function(t,e){var r=e.layer-t.layer;return 0==r?t.name!=e.name?t.name<e.name?-1:1:t.cid-e.cid:r},t.prototype.getChangedData=function(t,e,r){return l.default(t,e,r)},t.prototype.normalizeDirective=function(t){return u.default.cameCase(t.replace(b,""))},t.prototype.inComponent=function(t,e){return e.data[t]||e.props[t].default},t}();e.default=w},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r(1),i=new(function(){function t(){this.BOOLEAN_ATTRS={selected:!0},this.BOOLEAN_ELEMENT={}}return t.prototype.q=function(t){return document.querySelector(t)},t.prototype.createDom=function(t){"string"!=n.default.type(t)&&o.error("组件模板"+t+"必须为字符串，请检查组件的template,templateId,templateUrl属性");var e=""+t;e=(e=(e=e.trim()).replace(/<!--[\s\S]*?-->/gm,"")).replace(/>\s+([^\s<]*)\s+</gm,">$1<").trim();for(var r,i=/([^>]*)(<([a-z/][-a-z0-9_:.]*)[^>/]*(\/*)>)([^<]*)/gm,a=(Date.now(),[]);r=i.exec(e);){r[1],r[2];var u=r[3];r[4],r[5];a.push(u)}var s=document.createElement(a[0]);return s.innerHTML=t,s},t.prototype.create=function(t){return this.createDom(t).childNodes},t.prototype.getNodeName=function(t){return t.nodeName?t.nodeName:t[0].nodeName},t.prototype.parseName=function(t){return n.default.cameCase(t.tagName.toLowerCase())},t.prototype.wrapDom=function(t,e){return"<"+e+">"+t+"</"+e+">"},t.prototype.getAttr=function(t,e){var r=[];if(!e)return r;return 1===e.nodeType&&e.getAttribute(t)&&r.push(e.getAttribute(t)),e.childNodes&&e.childNodes.length&&function e(n){for(var o=0;o<n.length;o++)1===n[o].nodeType&&n[o].getAttribute(t)&&r.push(n[o].getAttribute(t)),n[o].childNodes&&n[o].childNodes.length&&e(n[o].childNodes)}(e.childNodes),r},t.prototype.combineAttrAndProps=function(t,e){if(n.default.isEmpty(t))return e;if(t){var r=n.default.expectSome(t,"component");for(var o in r)e&&e[o]&&(e[o].default=r[o])}return e},t.prototype.noOtherAttr=function(t,e){if(1===e.nodeType&&e.attributes){if(e.attributes.length>=2)return!1;if(1==e.attributes.length)return e.attributes[0].name==t}},t.prototype.boolToDisplay=function(t){return"true"===t||!0===t?"block":"false"===t||!1===t?"none":void 0},t.prototype.expectSomeAttr=function(t,e){var r={};if(t.attributes&&t.attributes.length)for(var n=0,o=t.attributes;n<o.length;n++)o[n].name!==e&&(r[o[n].name]=o[n].value);return r},t.prototype.addComment=function(t){return document.createComment(t)},t.prototype.replaceComment=function(t,e,r){for(var n=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,null),o=n.nextNode();o;)o.nodeValue===e&&o.parentNode.replaceChild(r,o),o=n.nextNode()},t.prototype.attr=function(t,e,r){var o=this.q(t);if(!n.default.isNil(o)&&(3===arguments.length&&o.setAttribute(e,r),2===arguments.length))return o.getAttribute(e)},t.prototype.hasHtml=function(t){if(i.q(t))return i.q(t).innerHTML},t.prototype.hasHtmlUrl=function(t){return t},t.prototype.addStyle=function(t,e){if(void 0===e.name&&o.error("找不到组件的name属性，无法添加style样式"),void 0!==t){var r=n.default._cameCase(e.name);switch(t.type){case"string":this.appendStyle(t.result,r);break;case"id":void 0===this.q(t.result)&&o.error("名称为"+e.name+"的组件中，节点"+t.result+"不存在");var i=this.q(t.result).innerHTML;this.appendStyle(i,r);break;case"url":this.appendStyle(t.result,r)}}},t.prototype.appendStyle=function(t,e){var r=""+t,n=document.createElement("style");n.type="text/css",n.innerHTML=r,this.q("head").appendChild(n),this.addSelectorPrefix(e)},t.prototype.addSelectorPrefix=function(t){for(var e=document.styleSheets,r=0;r<e.length;r++)if(e[r].title===t)for(var n=0,o=e[r].cssRules;n<o.length;n++)o[n].selectorText=t+" "+o[n].selectorText},t.prototype.delDomExpectWhich=function(t,e){for(var r=document.querySelectorAll(t),n=0;n<r.length;n++)n!==e&&r[n].parentNode.removeChild(r[n])},t.prototype.delDom=function(t){for(var e=document.querySelectorAll(t),r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r])},t.prototype.watch=function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=document.querySelector(t);new e((function(t){})).observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})},t.prototype.booleanAttr=function(t,e){},t}());e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=r(6),a=function(){function t(t,e,r){this.text=t,this.data=e,this.props=r}return t.prototype.combineData=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),"object"!=o.default.type(t)&&n.error("组件是属性data必须为对象"),"object"!=o.default.type(e)&&n.error("组件是属性props必须为对象"),o.default.isEmpty(e))return t;for(var r in e)t[r]=e[r].default;return t},t.prototype.tpl=function(){var t,e,r,n,a=this,u=0,s=[];if(null!=this.text){for(;u<this.text.length;){if(-1!=(t=this.text.indexOf("{{",u))&&(e=this.text.indexOf("}}",t+2)),-1==t||-1==e){s.push(this.text.substring(u));break}t!=u&&s.push(this.text.substring(u,t)),r=this.text.substring(t+2,e),n=i.default.parse(r),s.push(n),u=e+2}return s.reduce((function(t,e){return"function"==o.default.type(e)?t+a.expectNullUndefined(e(a.combineData(a.data,a.props))):t+e}),"")}},t.prototype.expectNullUndefined=function(t){return"null"==o.default.type(t)||"undefined"==o.default.type(t)?"":"object"==typeof t?JSON.stringify(t):""+t},t}();e.default=function(t,e,r){return new a(t,e,r).tpl()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=r(7),a=function(){function t(){this.index=0,this.now=void 0,this.tokens=[],this.text=""}return t.prototype.lex=function(t){for(this.text=t;this.index<this.text.length;)this.now=this.text.charAt(this.index),"number"==o.default.whichType(this.now)||"."===this.now&&o.default.whichType(o.default.nextLeter(this.index,this.text))?this.loopNumber():"string"==o.default.whichType(this.now)?this.loopString(this.now):"letter"==o.default.whichType(this.now)?this.loopLetter():o.default.isWhiteSpace(this.now)?this.index++:o.default.inStr(this.now,"[],{}.:()?;")?this.pushObj():this.loopOperator();return this.tokens},t.prototype.pushObj=function(){this.tokens.push({text:this.now,value:this.now}),this.index++},t.prototype.nextStr=function(t){return void 0===t&&(t=1),this.index+t<this.text.length&&this.text.charAt(this.index+t)},t.prototype.loopNumber=function(){for(var t="";this.index<this.text.length;){var e=this.text.charAt(this.index).toLowerCase();if("number"==o.default.whichType(e)||"."===e)t+=e;else{var r=o.default.nextLeter(this.index,this.text),i=t.charAt(t.length-1);if("e"==e&&o.default.isExponent(r))t+=e;else if(o.default.isExponent(e)&&"e"===i&&r&&o.default.isNumber(r))t+=e;else{if(!o.default.isExponent(e)||"e"!==i||r&&o.default.isNumber(r))break;n.error("指数格式错误！")}}this.index++}this.tokens.push({text:t,value:Number(t)})},t.prototype.loopString=function(t){this.index++;for(var e="",r=t;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,o==t)return this.index++,void this.tokens.push({text:r,value:e});o==i.SPECIALS[o]?e+=i.SPECIALS[o]:e+=o,this.index++}n.error("无法匹配的符号")},t.prototype.loopLetter=function(){for(var t="";this.index<this.text.length;){var e=this.text.charAt(this.index);if(!o.default.isLetter(e)&&!o.default.isNumber(e))break;t+=e,this.index++}var r=i.LETTER.hasOwnProperty(t)?i.LETTER[t]:t;this.tokens.push({text:t,identifier:!0,value:r})},t.prototype.loopOperator=function(){var t=this.now,e=this.now+this.nextStr(1),r=this.now+this.nextStr(1)+this.nextStr(2),o=i.OPERATORS[t],a=i.OPERATORS[e],u=i.OPERATORS[r];if(o||a||u){var s=u?r:a?e:t;this.tokens.push({text:s,value:s}),this.index+=s.length}else n.error("未识别的字符"+this.now)},t}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(20),o=r(21),i=function(){function t(t,e){this.lexer=t,this.astBuilder=new n.default(this.lexer),this.astCompile=new o.default(this.astBuilder,e)}return t.prototype.parse=function(t){return this.astCompile.compile(t)},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),o=r(7),i=r(0),a=function(){function t(t){this.lexer=t,this.tokens=[]}return t.prototype.ast=function(t){return this.tokens=this.lexer.lex(t),this.init()},t.prototype.init=function(){for(var t=[];;)if(this.tokens.length&&t.push(this.pipeBuilder()),!i.default.expect(this.tokens,";"))return n.ast_init.body={},n.ast_init.body=t,i.default.clone(n.ast_init)},t.prototype.agency=function(){var t,e;for(i.default.expect(this.tokens,"(")?(t=this.pipeBuilder(),i.default.consume(this.tokens,")")):i.default.expect(this.tokens,"[")?t=this.arrayBuilder():i.default.expect(this.tokens,"{")?t=this.objectBuilder():o.LETTER.hasOwnProperty(this.tokens[0].text)?"this"==this.tokens[0].text?t=i.default.clone(n.ast_this):(n.ast_constant.value=o.LETTER[i.default.consume(this.tokens).text],t=i.default.clone(n.ast_constant)):t=i.default.exitFirst(this.tokens).identifier?this.identifierBuilder():this.constantBuilder();e=i.default.expect(this.tokens,".","[","(");)t=this.memberBuilder(e,t);return t},t.prototype.closingTags=function(t){var e=[];if(!i.default.exitFirst(this.tokens,t))do{if(i.default.exitFirst(this.tokens,t))break;e.push(this.agency())}while(i.default.expect(this.tokens,","));return i.default.consume(this.tokens,t),e},t.prototype.constantBuilder=function(){return n.ast_constant.value=i.default.consume(this.tokens).value,i.default.clone(n.ast_constant)},t.prototype.identifierBuilder=function(){return n.ast_identifier.value=i.default.consume(this.tokens).value,i.default.clone(n.ast_identifier)},t.prototype.arrayBuilder=function(){return n.ast_array.value=this.closingTags("]"),i.default.clone(n.ast_array)},t.prototype.objectBuilder=function(){var t=[];if(!i.default.exitFirst(this.tokens,"}"))do{n.ast_json.key=this.constantBuilder(),i.default.consume(this.tokens,":"),n.ast_json.value=this.assignmentBuilder(),t.push(i.default.clone(n.ast_json))}while(i.default.expect(this.tokens,","));return i.default.consume(this.tokens,"}"),n.ast_object.value=t,i.default.clone(n.ast_object)},t.prototype.memberBuilder=function(t,e){return"["===t.text&&(e={type:n.dataType[7],object:e,property:this.agency(),computed:!0},i.default.consume(this.tokens,"]")),"."===t.text&&(e={type:n.dataType[7],object:e,property:this.identifierBuilder(),computed:!1}),"("===t.text&&(e={type:n.ast_function.type,callee:e,arguments:this.closingTags(")"),pipe:!1}),e},t.prototype.assignmentBuilder=function(){var t=this.ternaryBuilder();if(i.default.expect(this.tokens,"=")){var e=this.ternaryBuilder();return n.ast_assignment.left=t,n.ast_assignment.right=e,i.default.clone(n.ast_assignment)}return t},t.prototype.unaryBuilder=function(){var t=i.default.expect(this.tokens,"+","!","-");return t?(n.ast_unary.operator=t.text,n.ast_unary.value=this.unaryBuilder(),i.default.clone(n.ast_unary)):t?void 0:this.agency()},t.prototype.multiplicativeBuilder=function(){for(var t,e=this.unaryBuilder();t=i.default.expect(this.tokens,"*","%","/");)n.ast_binary.operator=t.text,n.ast_binary.left=e,n.ast_binary.right=this.unaryBuilder(),e=i.default.clone(n.ast_binary);return e},t.prototype.additiveBuilder=function(){for(var t,e=this.multiplicativeBuilder();t=i.default.expect(this.tokens,"+","-");)e={type:n.ast_binary.type,operator:t.text,left:e,right:this.multiplicativeBuilder()};return e},t.prototype.relationalBuilder=function(){for(var t,e=this.additiveBuilder();t=i.default.expect(this.tokens,">","<",">=","<=");)e={type:n.ast_binary.type,operator:t.text,left:e,right:this.additiveBuilder()};return e},t.prototype.equalityBuilder=function(){for(var t,e=this.relationalBuilder();t=i.default.expect(this.tokens,"==","===","!=","!==");)e={type:n.ast_binary.type,operator:t.text,left:e,right:this.relationalBuilder()};return e},t.prototype.andBuilder=function(){for(var t,e=this.equalityBuilder();t=i.default.expect(this.tokens,"&&");)e={type:n.ast_logical.type,operator:t.text,left:e,right:this.equalityBuilder()};return e},t.prototype.orBuilder=function(){for(var t,e=this.andBuilder();t=i.default.expect(this.tokens,"||");)e={type:n.ast_logical.type,operator:t.text,left:e,right:this.andBuilder()};return e},t.prototype.ternaryBuilder=function(){var t=this.orBuilder();if(i.default.expect(this.tokens,"?")){var e=this.assignmentBuilder();if(i.default.consume(this.tokens,":")){var r=this.assignmentBuilder();return{type:n.ast_teranry.type,boolean_expression:t,true_value:e,error_value:r}}}return t},t.prototype.pipeBuilder=function(){for(var t=this.assignmentBuilder();i.default.expect(this.tokens,"|");){var e=[t];for(t={type:n.ast_function.type,callee:this.identifierBuilder(),arguments:e,pipe:!0};i.default.expect(this.tokens,":");)e.push(this.assignmentBuilder())}return t},t}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),o=r(1),i=r(22),a=r(0),u={},s=function(){function t(t,e){this.astBuilder=t,this.state={body:[],compileId:0,echo:[],pipes:{}},this.ast={},u=e}return t.prototype.compile=function(t){this.ast=this.astBuilder.ast(t),this.handelTree(this.ast),this.constantExpr(this.ast);var e=this.pipePrefix()+"var fn = function(scope, local){"+(this.state.echo.length?"var "+this.state.echo.join(",")+";":"")+this.state.body.join("")+"}; return fn;",r=new Function("safeProperty","safeObject","safeFunction","isUndefined","pipe",e)(l,c,f,p,d);return r.literal=this.isLiteral(),r.constant=this.ast.constant,r},t.prototype.handelTree=function(t,e,r){switch(void 0===e&&(e={context:void 0,name:void 0,computed:void 0}),t.type){case n.dataType[1]:this.initCompile(t);break;case n.dataType[2]:return this.metaCompile(t);case n.dataType[3]:return this.arrayCompile(t);case n.dataType[4]:return this.objectCompile(t);case n.dataType[5]:return this.identifierCompile(t,e,r);case n.dataType[6]:return this.thisCompile();case n.dataType[7]:return this.memberCompile(t,e,r);case n.dataType[8]:return this.functionCompile(t);case n.dataType[9]:return this.assigmentCompile(t);case n.dataType[10]:return this.unaryCompile(t);case n.dataType[11]:return this.binaryCompile(t);case n.dataType[12]:return this.logicalCompile(t);case n.dataType[13]:return this.ternaryCompile(t)}},t.prototype.initCompile=function(t){var e=this,r=a.default.clone(t.body),n=r.pop();r.forEach((function(t){e.state.body.push(e.handelTree(t))})),this.state.body.push("return ",this.handelTree(n),";")},t.prototype.metaCompile=function(t){return a.default.wrapString(t.value)},t.prototype.arrayCompile=function(t){var e=this;return"["+t.value.map((function(t){return e.handelTree(t)})).join(",")+"]"},t.prototype.objectCompile=function(t){var e=this;return"{"+t.value.map((function(t){return t.key.value+":"+e.handelTree(t.value)})).join(",")+"}"},t.prototype.identifierCompile=function(t,e,r){l(t.value);var n=this.incrementId();return a.default.conditionIsRight(this.state.body,a.default.hasProperty("local",t.value),a.default.concatCode(n,a.default.nonComputedMember("local",t.value))),r&&a.default.conditionIsRight(this.state.body,a.default.notExist(a.default.hasProperty("local",t.value))+" && scope && "+a.default.notExist(a.default.hasProperty("scope",t.value)),a.default.concatCode(a.default.nonComputedMember("scope",t.value),"{}")),a.default.conditionIsRight(this.state.body,a.default.notExist(a.default.hasProperty("local",t.value))+" && scope",a.default.concatCode(n,a.default.nonComputedMember("scope",t.value))),e&&(e.context=a.default.hasProperty("local",t.value)+"?local:scope",e.name=t.value,e.computed=!1),this.state.body.push("safeObject("+n+");"),n},t.prototype.thisCompile=function(){return"scope"},t.prototype.memberCompile=function(t,e,r){var n=this.incrementId(),o=this.handelTree(t.object,void 0,!0);if(e&&(e.context=o),t.computed){var i=this.handelTree(t.property);this.state.body.push("safeProperty("+i+");"),r&&a.default.conditionIsRight(this.state.body,a.default.notExist(a.default.computedMember(o,i)),a.default.concatCode(a.default.computedMember(o,i),"{}")),a.default.conditionIsRight(this.state.body,o,a.default.concatCode(n,"safeObject("+a.default.computedMember(o,i)+")")),e&&(e.name=i,e.computed=!0)}return t.computed||(l(t.property.value),r&&a.default.conditionIsRight(this.state.body,a.default.notExist(a.default.nonComputedMember(o,t.property.value)),a.default.concatCode(a.default.nonComputedMember(o,t.property.value),"{}")),a.default.conditionIsRight(this.state.body,o,a.default.concatCode(n,"safeObject("+a.default.nonComputedMember(o,t.property.value)+")")),e&&(e.name=t.property.value,e.computed=!1)),n},t.prototype.functionCompile=function(t){var e,r,n,o=this;return t.pipe?(r=this.pipeCompile(t.callee.value))+"("+(n=t.arguments.map((function(t){return o.handelTree(t)}))).join(",")+")":t.pipe?void 0:(e={context:void 0,name:void 0,computed:void 0},r=this.handelTree(t.callee,e),n=t.arguments.map((function(t){return"safeObject("+o.handelTree(t)+")"})),e.name&&(this.state.body.push("safeObject("+e.context+");"),r=e.computed?a.default.computedMember(e.context,e.name):a.default.nonComputedMember(e.context,e.name)),this.state.body.push("safeFunction("+r+");"),r+" && safeObject("+r+"("+n.join(",")+"))")},t.prototype.assigmentCompile=function(t){var e,r={context:void 0,name:void 0,computed:void 0};return this.handelTree(t.left,r,!0),e=r.computed?a.default.computedMember(r.context,r.name):a.default.nonComputedMember(r.context,r.name),a.default.concatCode(e,"safeObject("+this.handelTree(t.right)+")")},t.prototype.unaryCompile=function(t){return t.operator+"(isUndefined("+this.handelTree(t.value)+"))"},t.prototype.binaryCompile=function(t){return a.default.inStr(t.operator,"+-")?"(isUndefined("+this.handelTree(t.left)+")"+t.operator+"isUndefined("+this.handelTree(t.right)+"))":"("+this.handelTree(t.left)+t.operator+this.handelTree(t.right)+")"},t.prototype.logicalCompile=function(t){var e=this.incrementId();return this.state.body.push(a.default.concatCode(e,this.handelTree(t.left))),a.default.conditionIsRight(this.state.body,"&&"==t.operator?e:a.default.notExist(e),a.default.concatCode(e,this.handelTree(t.right))),e},t.prototype.ternaryCompile=function(t){var e=this.incrementId(),r=this.incrementId();return this.state.body.push(a.default.concatCode(r,this.handelTree(t.boolean_expression))),a.default.conditionIsRight(this.state.body,r,a.default.concatCode(e,this.handelTree(t.true_value))),a.default.conditionIsRight(this.state.body,a.default.notExist(r),a.default.concatCode(e,this.handelTree(t.error_value))),e},t.prototype.pipeCompile=function(t){var e=this.state.pipes;return e.hasOwnProperty("name")||(e[t]=this.incrementId(!0)),e[t]},t.prototype.pipePrefix=function(){var t=this.state.pipes;if("{}"==JSON.stringify(t))return"";var e=[];for(var r in t)e.push(t[r]+"=pipe("+a.default.wrapString(r)+")");return"var "+e.join(",")+";"},t.prototype.incrementId=function(t){var e=a.default.compileId(this.state.compileId,this.state.echo,t);return this.state.compileId++,e},t.prototype.isLiteral=function(){var t=this.ast.body;return!t.length||1===t.length&&(t[0].type===n.dataType[2]||t[0].type===n.dataType[3]||t[0].type===n.dataType[4]||t[0].type===n.dataType[5])},t.prototype.constantExpr=function(t){var e,r=this,o=this;switch(t.type){case n.dataType[1]:e=!0,i(t.body);break;case n.dataType[2]:t.constant=!0;break;case n.dataType[3]:e=!0,i(t.value),t.constant=e;break;case n.dataType[4]:e=!0,t.value.forEach((function(t){r.constantExpr(t.value),e=e&&t.value.constant})),t.constant=e;break;case n.dataType[5]:case n.dataType[6]:t.constant=!1;break;case n.dataType[7]:this.constantExpr(t.object),t.computed&&this.constantExpr(t.property),t.constant=t.object.constant&&(!t.computed||t.property.constant);break;case n.dataType[8]:e=t.pipe,i(t.arguments),t.constant=e;break;case n.dataType[9]:a();break;case n.dataType[10]:this.constantExpr(t.value),t.constant=t.value.constant;break;case n.dataType[11]:case n.dataType[12]:a();break;case n.dataType[13]:this.constantExpr(t.boolean_expression),this.constantExpr(t.true_value),this.constantExpr(t.error_value),t.constant=t.boolean_expression.constant&&t.true_value.constant&&t.error_value.constant}function i(r){r.forEach((function(t){o.constantExpr(t),e=e&&t.constant})),t.constant=e}function a(){o.constantExpr(t.left),o.constantExpr(t.right),t.constant=t.left.constant&&t.right.constant}},t}();function l(t){i.PROPERTY.some((function(e){return e===t}))&&o.error(t+"存在编译风险")}function c(t){if(null!=t){var e=i.WINDOW.every((function(e){return t[e]})),r=i.NODE.every((function(e){return t[e]}));return(e||r||t.constructor==t||t.getOwnPropertyDescriptor||t.getOwnPropertyNames)&&o.error(t+"存在编译风险"),t}}function f(t){(i.FUN.some((function(e){return e==t}))||t.constructor==t)&&o.error(t+"存在编译风险")}function p(t,e){return void 0===e&&(e=0),void 0===t?e:t}function d(t){return u[t]}e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FUN=e.NODE=e.WINDOW=e.PROPERTY=void 0;e.PROPERTY=["constructor","__proto__","__defineGetter__","__defineSetter__","__lookupGetter__","__loopupSetter__"];e.WINDOW=["document","alert","location","setInterval","setTimeout"];e.NODE=["nodeName","children"];var n=[Function.prototype.call,Function.prototype.apply,Function.prototype.bind];e.FUN=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pipeProvider=void 0;var n=r(1),o=r(0),i=function(){function t(){this.pipes={}}return t.prototype.register=function(t,e){if("object"==o.default.type(t))for(var r in t)return this.register(r,t[r]);if("string"==o.default.type(t)){"function"!=o.default.type(e)&&n.error("注册的管道函数类型为function");var i=e();return this.pipes[t]=i,i}},t.prototype.pipe=function(t){return this.pipes[t]},t.prototype.returnPipes=function(){return this.pipes},t}();function a(t){this.register=function(e,r){if("object"==o.default.type(e))for(var i in e)return this.register(i,e[i]);if("string"==o.default.type(e))return"function"!=o.default.type(r)&&n.error("注册的管道函数类型为function"),t.factory(e+"Pipe",r)},this.$get=["$injector",function(t){return function(e){return t.get(e+"Pipe")}}]}e.default=i,e.$pipeProvider=a,a.$inject=["$provider"]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),o=r(0),i=new(function(){function t(){this.data={},this.name="",this.token=void 0,this.props={},this.componentStatus=""}return t.prototype.$data=function(t,e){var r=arguments.length;switch(r){case 0:return this.data;case 1:return this.data[t];case 2:var i=o.default.deepClone(this.data);this.data[t]=e;var a=this.data;n.default.emit(t,o.default.clone({target:this.token,which:this.name,old:i,new:a,oldVal:i[t],newVal:a[t],props:null==this.props?{}:this.props,componentStatus:this.componentStatus}))}},t}());e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),o=new(function(){function t(){}return t.prototype.emit=function(t,e){n.default.emit(t,e)},t.prototype.on=function(t,e){n.default.on(t,e)},t}());e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(27),o=new(function(){function t(){}return t.prototype.ajax=function(t){var e=t.type,r=void 0===e?"get":e,o=t.url,i=void 0===o?"":o,a=t.data;return n.parseHttp(r,i,a)},t.prototype.get=function(t){return n.parseHttp("get",t,null)},t.prototype.post=function(t,e){return n.parseHttp("post",t,e)},t.prototype.put=function(t,e){return n.parseHttp("put",t,e)},t.prototype.delete=function(t,e){return n.parseHttp("delete",t,e)},t}());e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHttp=void 0;var n=r(0),o=r(1),i=["get","post","put","delete","head","options"];e.parseHttp=function(t,e,r){return"string"==n.default.type(t)||i.includes(t.toLowerCase())||o.error("http请求类型必须为"+i+"中的一个"),"string"!=n.default.type(e)&&o.error("http请求的url参数需为字符"),r&&"object"!=n.default.type(r)&&o.error("http请求的data参数需为对象"),new Promise((function(n,o){var i=new XMLHttpRequest;i.open(t,e),i.onreadystatechange=function(){if(4!=this.readyState)return;200==this.status?n(this.response):o(new Error(this.statusText))},i.responseType="json",i.setRequestHeader("Accept","application/json"),i.send(r||null)}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new(r(3).default),o=function(){function t(t,e){this.url=t,this.routers=this._parseRouters(e),this.nowRouter=this._getNowRouter(t,this.routers),this.params=this.nowRouter&&this.nowRouter.params?this.nowRouter.params:{}}return t.prototype._getNowRouter=function(t,e){return t.includes("?")&&(t=t.substr(0,t.lastIndexOf("?"))),e.filter((function(e){return t.match(e.info.regexp)}))[0]},t.prototype._parseRouters=function(t){var e=this;return t.forEach((function(t){var r=e._pathToReg(t.path);null!=r&&(t.info=r,e.params=t.params||{})})),t},t.prototype._pathToReg=function(t){var e={originalPath:t,regexp:t},r=e.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(t,e,n,o){var i="?"===o||"*?"===o?"?":null,a="*"===o||"*?"===o?"*":null;return r.push({name:n,optional:!!i}),e=e||"",(i?"":e)+"(?:"+(i?e:"")+(a?"(.+?)":"([^/]+)")+(i||"")+")"+(i||"")})).replace(/([/$*])/g,"\\$1"),e.regexp=new RegExp("^"+t+"$",""),e},t.prototype.go=function(t){var e=t.path,r=void 0===e?"":e,o=t.params;!function(t,e){n.get("routerConfig").forEach((function(r){r.path==t&&(r.params=e)})),n.data("routerConfig",n.get("routerConfig"))}(r,void 0===o?{}:o),this.hash(r)},t.prototype.hash=function(t){if(!t)return window.location.hash;window.location.hash="#"+t},t.prototype.reflesh=function(){var t=window.location.hash;window.location.hash="#",window.location.hash=t},t.prototype.back=function(){window.history.back()},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),i=new(r(9).default),a=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,u=/^\s*(\S+)\s*$/,s=/(\/\*.*?\*\/)|(\/\/$)/gm,l=function(){function t(){}return t.prototype.inject=function(t,e){"array"!=o.default.type(t)&&n.error("模块的名称的参数为数组");var r={$injector:void 0,$provider:{data:void 0,provider:void 0}},l=r.$injector=b(r,(function(){})),c={$injector:void 0},f=c.$injector=b(c,(function(t){var e=l.get(t+"Provider");return f.invoke(e.$get,e)})),p=new Map,d=!1,h=[],y=[];function v(t){return function(){var e=f.invoke(t);return"undefined"==o.default.type(e)&&n.error("factory函数必须有返回值"),e}}r.$provider={data:function(t,e){"hasOwnProperty"!=t&&"$injector"!=t&&"$provider"!=t||n.error(t+"不能用于标识符"),c[t]=e,r[t]=e},provider:function(t,e){"hasOwnProperty"!=t&&"$injector"!=t&&"$provider"!=t||n.error(t+"不能用于标识符"),"function"==o.default.type(e)&&(e=l.instantiate(e)),r[t+"Provider"]=e},factory:function(t,e){this.provider(t,{$get:v(e)})},value:function(t,e){this.factory(t,(function(){return e}))},service:function(t,e){this.factory(t,(function(){return f.instantiate(e)}))}};var m=function(t){t.forEach((function(t){var e=l.get(t[0]),r=t[1],n=t[2];e[r].apply(e,n)}))};function b(t,e){function i(r){if(function(t){if(t.length&&t[t.length-1][1].includes(t[0][0])){var e=t.map((function(t){return t[0]}));e.push(t[0][0]),d=!0,n.error("发现循环依赖"+e.join("->"))}}(h),t.hasOwnProperty(r))return t[r];try{return t[r]=e(r)}finally{d&&delete t[r]}}function a(t,e,r,a){1==arguments.length&&(e=null);var u=g(t,a).map((function(t){if("string"==o.default.type(t))return r&&r.hasOwnProperty(t)?r[t]:i(t);n.error("无效的标识符"+t+"，标识符应为字符串")}));return"array"==o.default.type(t)&&(t=t.slice(-1)[0]),t.apply(e,u)}return{has:function(t){return c.hasOwnProperty(t)||r.hasOwnProperty(t+"Provider")},get:i,invoke:a,annotate:g,instantiate:function(t,e){var r="array"==o.default.type(t)?t.slice(-1)[0]:t,n=Object.create(r.prototype);return a(t,n,e),n}}}function g(t,r){var i=[];if("array"==o.default.type(t)&&(i=t.length?t.slice(0,t.length-1):[]),"function"==o.default.type(t))if(e)n.error("函数没有$inject属性，不能再严格模式下使用");else if(t.$inject)i=t.$inject;else{var l=t.toString().replace(s,"").match(a);i=o.default.arrayCompact(l[1].split(",")).map((function(t){return t.match(u)[1]})),null!=r&&h.push([r,i])}return i}return t.forEach((function t(e){if(!p.get(e)){if(p.set(e,!0),"string"==o.default.type(e)){var r=i.module(e);r.requires.forEach(t),m(r._invokeQueue),m(r._configQueue),y=y.concat(r._runQueue)}"function"!=o.default.type(e)&&"array"!=o.default.type(e)||y.push(l.invoke(e))}})),o.default.arrayCompact(y).forEach((function(t){f.invoke(t)})),f},t}();e.default=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0);e.default=function(t){t.name&&(t.name&&"string"!=o.default.type(t.name)&&n.error("组件"+t.name+"的名称必须为字符串"),t.components&&"array"!=o.default.type(t.components)&&n.error("组件"+t.name+"的components属性应为数组！"),t.style&&"string"!=o.default.type(t.style)&&n.error("组件"+t.name+"的style属性应为字符！"),t.styleId&&("string"!=o.default.type(t.styleId)&&n.error("组件"+t.name+"的styleId属性应为字符！"),null==document.querySelector(t.styleId)&&n.error("节点"+t.styleId+"不存在")),t.template&&"string"!=o.default.type(t.template)&&n.error("组件"+t.name+"的template属性应为字符！"),t.templateId&&("string"!=o.default.type(t.templateId)&&n.error("组件"+t.name+"的templateId属性应为字符！"),null==document.querySelector(t.templateId)&&n.error("节点"+t.templateId+"不存在")),t.data&&"object"!=o.default.type(t.data)&&n.error("组件"+t.name+"的data属性应为对象！"),t.props&&("object"!=o.default.type(t.props)&&n.error("组件"+t.name+"的props属性应为对象！"),Object.entries(t.props).forEach((function(e){e[1].default&&o.default.type(e[1].default)!=e[1].type&&n.error("组件"+t.name+"的props属性中元素"+e[0]+"的default值非"+e[1].type+"类型！或者是没有定义属性的类型导致的！")}))),t.beforeRender&&"function"!=o.default.type(t.beforeRender)&&n.error("组件"+t.name+"的beforeRender属性应为函数！"),t.render&&"function"!=o.default.type(t.render)&&n.error("组件"+t.name+"的render属性应为函数！"))}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(32),u=r(33),s=r(34),l=r(35),c=r(5),f=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i.default);c.applyMixins(f,[a.default,u.default,s.default,l.default]);e.default=function(t){return new f(t)}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),u=r(0),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.html=function(t){if(!t||"string"==u.default.type(t))return t?(this.each(this.els,(function(e,r){e.innerHTML=t})),this):this.els[0].innerHTML},e.prototype.text=function(t){var e,r;if(!t||"string"==u.default.type(t)){try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value;if(0==arguments.length)return a.innerText||a.textContent;1==arguments.length&&(a.innerText?a.innerText=t:a.textContent=t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.css=function(t,e){var r,n;if(!(t&&"string"!=u.default.type(t)||e&&"string"!=u.default.type(e)))try{for(var o=i(this.els),a=o.next();!a.done;a=o.next()){var s=a.value;if(1==arguments.length)return window.getComputedStyle(s,null)[t];if(2==arguments.length)return s.style[t]=e,this}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.width=function(t){var e,r;if(!t||"string"==u.default.type(t)){try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value;if(!t)return a.offsetWidth;a.style.width=t}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.height=function(t){var e,r;if(!t||"string"==u.default.type(t)){try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value;if(!t)return a.offsetHeight;a.style.height=t}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.attr=function(t,e){var r,n;if("string"==u.default.type(t)&&(!e||"string"==u.default.type(e)))try{for(var o=i(this.els),a=o.next();!a.done;a=o.next()){var s=a.value;if(1==arguments.length){if(s.hasAttribute(t))return s.getAttribute(t)}else if(2==arguments.length)return s.setAttribute(t,e),this}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.val=function(t){var e,r;if(!t||"string"==u.default.type(t)){try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value;if(1==arguments.length){var s=a.getAttribute("value");a.setAttribute(s,t)}else if(0==arguments.length)return a.nodeName.match(/INPUT|TEXTAREA|SELECT|RADIO|CHECKBOX/)?a.value:a.getAttribute("value")}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.addClass=function(t){var e,r;if(!t||"string"==u.default.type(t)){try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){o.value.classList.add(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.removeClass=function(t){var e,r;if(!t||"string"==u.default.type(t)){try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){o.value.classList.remove(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.toggleClass=function(t){var e,r;if(!t||"string"==u.default.type(t))try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){return!!o.value.classList.toggle(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e}(a.default);e.default=s},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),u=r(0),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.on=function(t,e){this.each(this.els,(function(r,n){r.addEventListener(t,e,!1)}))},e.prototype.off=function(t,e){this.each(this.els,(function(r,n){r.removeEventListener(t,e,!1)}))},e.prototype.hover=function(t,e){var r,n;try{for(var o=i(this.els),a=o.next();!a.done;a=o.next()){var s=a.value;if("function"!=u.default.type(t))throw new Error("hover方法：没有传递回调函数");s.addEventListener("mouseover",t,!1),"function"==u.default.type(e)&&s.addEventListener("mouseout",t,!1)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.click=function(t){var e,r;try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value;"function"==u.default.type(t)&&a.addEventListener("click",t,!1)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.prototype.toggle=function(){var t,e;try{for(var r=i(this.els),n=r.next();!n.done;n=r.next()){var o=n.value;!function(t,e){var r=0;t.addEventListener("click",(function(){e[r++%e.length].call(this)}),!1)}(o,arguments)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return this},e.prototype.scroll=function(t){var e,r;try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value;"function"==u.default.type(t)&&a.addEventListener("scroll",t,!1)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.prototype.resize=function(t){var e,r;try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){var a=o.value,s=a.offsetLeft,l=a.offsetWidth,c=a.offsetTop,f=a.offsetHeight;window.onresize=function(){t(),s>=u.default.page().width-l&&(s=u.default.page().width-l),c>=u.default.page().height-f&&(c=u.default.page().height-f)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e}(a.default);e.default=s},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.show=function(t){var e,r,n,o;if(t&&"number"==typeof t){var a=function(e){setTimeout((function(){e.style.display="none"}),t||500)};try{for(var u=i(this.els),s=u.next();!s.done;s=u.next()){a(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}else if(!t)try{for(var l=i(this.els),c=l.next();!c.done;c=l.next()){c.value.style.display="block"}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return this},e.prototype.hide=function(t){var e,r,n,o;if(t&&"number"==typeof t){var a=function(e){setTimeout((function(){e.style.display="block"}),t||500)};try{for(var u=i(this.els),s=u.next();!s.done;s=u.next()){a(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}else if(!t)try{for(var l=i(this.els),c=l.next();!c.done;c=l.next()){c.value.style.display="none"}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return this},e}(r(2).default);e.default=a},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),u=r(0),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.hasAttrs=function(){var t,e;try{for(var r=i(this.els),n=r.next();!n.done;n=r.next()){return!!n.value.hasAttributes()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.hasAttr=function(t){var e,r;if(!t||"string"==u.default.type(t))try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){return!!o.value.hasAttribute(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e.prototype.hasClass=function(t){var e,r;if(!t||"string"==u.default.type(t))try{for(var n=i(this.els),o=n.next();!o.done;o=n.next()){return!!o.value.classList.contains(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e}(a.default);e.default=s}])}));
//# sourceMappingURL=bundle.js.map